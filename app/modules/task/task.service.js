'use strict';function _0x4650(_0x3ae312,_0x6a66b5){const _0x36cdef=_0x36cd();return _0x4650=function(_0x4650c5,_0x25d2f0){_0x4650c5=_0x4650c5-0x1c7;let _0x5e262a=_0x36cdef[_0x4650c5];return _0x5e262a;},_0x4650(_0x3ae312,_0x6a66b5);}const _0x4156c4=_0x4650;(function(_0x4c7240,_0x16b3fd){const _0xa63e31=_0x4650,_0xb7506a=_0x4c7240();while(!![]){try{const _0x2819fe=parseInt(_0xa63e31(0x207))/0x1+parseInt(_0xa63e31(0x1f1))/0x2+-parseInt(_0xa63e31(0x1f7))/0x3+-parseInt(_0xa63e31(0x20f))/0x4*(parseInt(_0xa63e31(0x1d3))/0x5)+parseInt(_0xa63e31(0x1d2))/0x6*(parseInt(_0xa63e31(0x1d7))/0x7)+-parseInt(_0xa63e31(0x208))/0x8+parseInt(_0xa63e31(0x1cc))/0x9;if(_0x2819fe===_0x16b3fd)break;else _0xb7506a['push'](_0xb7506a['shift']());}catch(_0x56be65){_0xb7506a['push'](_0xb7506a['shift']());}}}(_0x36cd,0x247b1));function _0x36cd(){const _0x4715de=['syncAssets','@nestjs/schedule','ModelsService','chatgptService','syncModels','syncTask','syncLumaTask','length','syncMjpTask','Logger','object','__metadata','CronExpression','276896JlFVXW','defineProperty','Injectable','syncWorkFlowDict','ChatLogService','refreshBaiduAccessToken','340710wGsRyP','../chatLog/chatLog.service','../models/models.service','WeMiniAKUpdateJob','decorate','chatLogService','pushLog','./../globalConfig/globalConfig.service','onModuleInit','midjourneyService','../user/user.service','Cron','authService','0\x20*/25\x20*\x20*\x20*\x20*','syncMjImg','design:returntype','129228zismHg','2345512yGipns','design:paramtypes','GlobalConfigService','syncMusic','EVERY_2_HOURS','ChatgptService','pushAuthLogs','4wLrOTA','AuthService','TaskService','renewMiniAccessToken','EVERY_5_MINUTES','../chatgpt/chatgpt.service','WeMiniAKUpdateJobï¼š','function','metadata','439794frAurf','EVERY_HOUR','checkAiAuth','modelsService','prototype','@nestjs/common','6SEbBIV','48745cJCcZk','Automatically\x20refresh\x20WeChat\x20access\x20every\x20hour\x20Token','error','__decorate','1745737XyFkMw','UserService','EVERY_DAY_AT_MIDNIGHT','updateVipExpire2Redis','MidjourneyService','globalConfigService','refreshBaiduAccesstoken','design:type','../midjourney/midjourney.service','debug','checkAuth','syncMjpAccountAutomatic','userService'];_0x36cd=function(){return _0x4715de;};return _0x36cd();}var __decorate=this&&this[_0x4156c4(0x1d6)]||function(_0x1df19f,_0x3df4f7,_0x11e562,_0x4538dc){const _0x4a3f6b=_0x4156c4;var _0x5d621a=arguments[_0x4a3f6b(0x1eb)],_0x46ceca=_0x5d621a<0x3?_0x3df4f7:_0x4538dc===null?_0x4538dc=Object['getOwnPropertyDescriptor'](_0x3df4f7,_0x11e562):_0x4538dc,_0x5e8f80;if(typeof Reflect===_0x4a3f6b(0x1ee)&&typeof Reflect[_0x4a3f6b(0x1fb)]==='function')_0x46ceca=Reflect['decorate'](_0x1df19f,_0x3df4f7,_0x11e562,_0x4538dc);else{for(var _0xd08cd9=_0x1df19f[_0x4a3f6b(0x1eb)]-0x1;_0xd08cd9>=0x0;_0xd08cd9--)if(_0x5e8f80=_0x1df19f[_0xd08cd9])_0x46ceca=(_0x5d621a<0x3?_0x5e8f80(_0x46ceca):_0x5d621a>0x3?_0x5e8f80(_0x3df4f7,_0x11e562,_0x46ceca):_0x5e8f80(_0x3df4f7,_0x11e562))||_0x46ceca;}return _0x5d621a>0x3&&_0x46ceca&&Object[_0x4a3f6b(0x1f2)](_0x3df4f7,_0x11e562,_0x46ceca),_0x46ceca;},__metadata=this&&this[_0x4156c4(0x1ef)]||function(_0x495747,_0x55feb5){const _0x46a0e5=_0x4156c4;if(typeof Reflect===_0x46a0e5(0x1ee)&&typeof Reflect[_0x46a0e5(0x1cb)]===_0x46a0e5(0x1ca))return Reflect[_0x46a0e5(0x1cb)](_0x495747,_0x55feb5);};Object[_0x4156c4(0x1f2)](exports,'__esModule',{'value':!![]}),exports[_0x4156c4(0x211)]=void 0x0;const globalConfig_service_1=require(_0x4156c4(0x1fe)),common_1=require(_0x4156c4(0x1d1)),schedule_1=require(_0x4156c4(0x1e5)),models_service_1=require(_0x4156c4(0x1f9)),auth_service_1=require('../auth/auth.service'),midjourney_service_1=require(_0x4156c4(0x1df)),chatLog_service_1=require(_0x4156c4(0x1f8)),user_service_1=require(_0x4156c4(0x201)),chatgpt_service_1=require(_0x4156c4(0x1c8));let TaskService=class TaskService{constructor(_0x2492a1,_0x5a4e4f,_0xd9bbfd,_0x19e1a1,_0x337f1e,_0x12e4d7,_0x430aea){const _0x59fdbf=_0x4156c4;this[_0x59fdbf(0x1dc)]=_0x2492a1,this[_0x59fdbf(0x200)]=_0x5a4e4f,this[_0x59fdbf(0x1e7)]=_0xd9bbfd,this[_0x59fdbf(0x1fc)]=_0x19e1a1,this[_0x59fdbf(0x1cf)]=_0x337f1e,this[_0x59fdbf(0x203)]=_0x12e4d7,this[_0x59fdbf(0x1e3)]=_0x430aea;}[_0x4156c4(0x1ff)](){const _0x430a12=_0x4156c4;this[_0x430a12(0x203)]['renewMiniAccessToken'](),this['midjourneyService'][_0x430a12(0x1e2)](),this[_0x430a12(0x200)][_0x430a12(0x1e9)](),this['midjourneyService'][_0x430a12(0x205)](),this[_0x430a12(0x1e7)][_0x430a12(0x1ea)](),this[_0x430a12(0x1fc)]['syncAssets'](),this[_0x430a12(0x200)][_0x430a12(0x1f4)](),this[_0x430a12(0x200)][_0x430a12(0x1e8)]();}['handleCron'](){const _0x68f684=_0x4156c4;common_1[_0x68f684(0x1ed)][_0x68f684(0x1e0)](_0x68f684(0x1d4),_0x68f684(0x211)),this[_0x68f684(0x1dc)]['getWechatAccessToken']();}async[_0x4156c4(0x1fa)](){const _0x48180d=_0x4156c4;try{await this[_0x48180d(0x203)][_0x48180d(0x212)]();}catch(_0xa61cd7){common_1['Logger'][_0x48180d(0x1d5)](_0x48180d(0x1c9),_0xa61cd7);}}async['checkAuth'](){const _0x26ff76=_0x4156c4;await this[_0x26ff76(0x1dc)][_0x26ff76(0x1ce)]();}async[_0x4156c4(0x20e)](){const _0x40569d=_0x4156c4;await this[_0x40569d(0x1dc)][_0x40569d(0x1fd)]();}[_0x4156c4(0x1f6)](){const _0x54cf10=_0x4156c4;this[_0x54cf10(0x1cf)][_0x54cf10(0x1dd)]();}async[_0x4156c4(0x1e2)](){const _0x431f7d=_0x4156c4;this[_0x431f7d(0x200)][_0x431f7d(0x1e2)]();}async['syncMjpTask'](){const _0x102ff9=_0x4156c4;this[_0x102ff9(0x200)][_0x102ff9(0x1e9)]();}async[_0x4156c4(0x1ea)](){const _0x553d0a=_0x4156c4;this[_0x553d0a(0x1e7)][_0x553d0a(0x1ea)]();}async[_0x4156c4(0x205)](){const _0x2fbb46=_0x4156c4;this[_0x2fbb46(0x200)][_0x2fbb46(0x205)]();}async[_0x4156c4(0x20b)](){const _0x1b151c=_0x4156c4;this[_0x1b151c(0x1fc)][_0x1b151c(0x1e4)]();}async[_0x4156c4(0x1da)](){const _0x59bf40=_0x4156c4;this[_0x59bf40(0x1e3)][_0x59bf40(0x1da)]();}async[_0x4156c4(0x1f4)](){const _0x3ce945=_0x4156c4;this[_0x3ce945(0x200)][_0x3ce945(0x1f4)]();}async[_0x4156c4(0x1e8)](){const _0x1d1b81=_0x4156c4;this[_0x1d1b81(0x200)][_0x1d1b81(0x1e8)]();}};__decorate([(0x0,schedule_1[_0x4156c4(0x202)])(schedule_1['CronExpression'][_0x4156c4(0x1cd)]),__metadata(_0x4156c4(0x1de),Function),__metadata(_0x4156c4(0x209),[]),__metadata(_0x4156c4(0x206),void 0x0)],TaskService[_0x4156c4(0x1d0)],'handleCron',null),__decorate([(0x0,schedule_1[_0x4156c4(0x202)])(schedule_1[_0x4156c4(0x1f0)]['EVERY_5_MINUTES']),__metadata(_0x4156c4(0x1de),Function),__metadata('design:paramtypes',[]),__metadata(_0x4156c4(0x206),Promise)],TaskService[_0x4156c4(0x1d0)],_0x4156c4(0x1fa),null),__decorate([(0x0,schedule_1[_0x4156c4(0x202)])(_0x4156c4(0x204)),__metadata('design:type',Function),__metadata(_0x4156c4(0x209),[]),__metadata(_0x4156c4(0x206),Promise)],TaskService['prototype'],_0x4156c4(0x1e1),null),__decorate([(0x0,schedule_1[_0x4156c4(0x202)])(schedule_1[_0x4156c4(0x1f0)][_0x4156c4(0x20c)]),__metadata('design:type',Function),__metadata(_0x4156c4(0x209),[]),__metadata('design:returntype',Promise)],TaskService[_0x4156c4(0x1d0)],'pushAuthLogs',null),__decorate([(0x0,schedule_1[_0x4156c4(0x202)])(schedule_1['CronExpression'][_0x4156c4(0x1cd)]),__metadata(_0x4156c4(0x1de),Function),__metadata(_0x4156c4(0x209),[]),__metadata('design:returntype',void 0x0)],TaskService['prototype'],_0x4156c4(0x1f6),null),__decorate([(0x0,schedule_1[_0x4156c4(0x202)])(schedule_1[_0x4156c4(0x1f0)][_0x4156c4(0x1d9)]),__metadata(_0x4156c4(0x1de),Function),__metadata(_0x4156c4(0x209),[]),__metadata(_0x4156c4(0x206),Promise)],TaskService[_0x4156c4(0x1d0)],_0x4156c4(0x1e2),null),__decorate([(0x0,schedule_1[_0x4156c4(0x202)])(schedule_1['CronExpression'][_0x4156c4(0x1c7)]),__metadata(_0x4156c4(0x1de),Function),__metadata(_0x4156c4(0x209),[]),__metadata(_0x4156c4(0x206),Promise)],TaskService[_0x4156c4(0x1d0)],_0x4156c4(0x1ec),null),__decorate([(0x0,schedule_1['Cron'])(schedule_1['CronExpression'][_0x4156c4(0x1c7)]),__metadata(_0x4156c4(0x1de),Function),__metadata(_0x4156c4(0x209),[]),__metadata(_0x4156c4(0x206),Promise)],TaskService[_0x4156c4(0x1d0)],_0x4156c4(0x1ea),null),__decorate([(0x0,schedule_1['Cron'])(schedule_1['CronExpression'][_0x4156c4(0x1c7)]),__metadata('design:type',Function),__metadata(_0x4156c4(0x209),[]),__metadata('design:returntype',Promise)],TaskService[_0x4156c4(0x1d0)],_0x4156c4(0x205),null),__decorate([(0x0,schedule_1['Cron'])(schedule_1['CronExpression'][_0x4156c4(0x1c7)]),__metadata('design:type',Function),__metadata(_0x4156c4(0x209),[]),__metadata(_0x4156c4(0x206),Promise)],TaskService[_0x4156c4(0x1d0)],'syncMusic',null),__decorate([(0x0,schedule_1[_0x4156c4(0x202)])(schedule_1['CronExpression'][_0x4156c4(0x1d9)]),__metadata(_0x4156c4(0x1de),Function),__metadata(_0x4156c4(0x209),[]),__metadata(_0x4156c4(0x206),Promise)],TaskService[_0x4156c4(0x1d0)],_0x4156c4(0x1da),null),__decorate([(0x0,schedule_1[_0x4156c4(0x202)])(schedule_1[_0x4156c4(0x1f0)][_0x4156c4(0x1d9)]),__metadata(_0x4156c4(0x1de),Function),__metadata(_0x4156c4(0x209),[]),__metadata(_0x4156c4(0x206),Promise)],TaskService[_0x4156c4(0x1d0)],'syncWorkFlowDict',null),__decorate([(0x0,schedule_1[_0x4156c4(0x202)])(schedule_1[_0x4156c4(0x1f0)][_0x4156c4(0x1d9)]),__metadata(_0x4156c4(0x1de),Function),__metadata(_0x4156c4(0x209),[]),__metadata('design:returntype',Promise)],TaskService['prototype'],_0x4156c4(0x1e8),null),TaskService=__decorate([(0x0,common_1[_0x4156c4(0x1f3)])(),__metadata(_0x4156c4(0x209),[globalConfig_service_1[_0x4156c4(0x20a)],midjourney_service_1[_0x4156c4(0x1db)],chatgpt_service_1[_0x4156c4(0x20d)],chatLog_service_1[_0x4156c4(0x1f5)],models_service_1[_0x4156c4(0x1e6)],auth_service_1[_0x4156c4(0x210)],user_service_1[_0x4156c4(0x1d8)]])],TaskService),exports[_0x4156c4(0x211)]=TaskService;