'use strict';function _0x1408(_0x449c10,_0x3a9a8f){const _0x16ca4=_0x16ca();return _0x1408=function(_0x14088f,_0x1dbdf2){_0x14088f=_0x14088f-0x10a;let _0x57d2de=_0x16ca4[_0x14088f];return _0x57d2de;},_0x1408(_0x449c10,_0x3a9a8f);}function _0x16ca(){const _0x39eb50=['catch','keys','ernie-3.5-8k-preview','llama_2_7b','2ivBCyW','llama_2_70b','toLowerCase','chatglm2_6b_32k','ernie-4.0-8k-latest','ernie-3.5-8k-0701','end','embedding-v1','completions_adv_pro','&client_secret=','sendMessageFromBaidu','7580440eVtntb','POST','40zzHyad','ernie-3.5-128k','ernie-3.5-8k-0613','xuanyuan_70b_chat','https://aip.baidubce.com/rpc/2.0/ai_custom/v1/wenxinworkshop/chat/','Logger','__esModule','?access_token=','6984040FlGvrM','log','qianfan_chinese_llama_2_70b','qianfan_chinese_llama_2_13b','ai_apaas','fuyu_8b','ernie-lite-8k','ernie-4.0-turbo-8k-preview','message','ernie-novel-8k','bloomz_7b1','4405kMPmGy','info','toString','ernie_speed','1030074xYjdPn','filter','gemma_7b_it','ernie-4.0-8k-0613','sqlcoder_7b','ai_apaas_lite','ernie-tiny-8k','5652596ULYbrc','completions','[百度签名校验失败]','chatlaw','ernie-char-8k','https://aip.baidubce.com/oauth/2.0/token?grant_type=client_credentials&client_id=','error','ernie-4.0-8k-0329','2564550uSfowW','llama_3_8b','bge_large_en','yi_34b_chat','llama_3_70b','1603014UoIPnI','split','llama_2_13b','qianfan_bloomz_7b_compressed','aquilachat_7b','ernie-4.0-turbo-8k','qianfan_chinese_llama_2_7b','getAccessToken','bge_large_zh','application/json','replace','ernie-4.0-8k-preview','@nestjs/common','codellama_7b_instruct','map','axios','data','8310dLNJVe','stream','eb-instant','ernie-char-fiction-8k'];_0x16ca=function(){return _0x39eb50;};return _0x16ca();}const _0x11cee8=_0x1408;(function(_0x15c56f,_0xd0a610){const _0x312487=_0x1408,_0x176243=_0x15c56f();while(!![]){try{const _0x3089cd=parseInt(_0x312487(0x10c))/0x1+parseInt(_0x312487(0x125))/0x2*(parseInt(_0x312487(0x149))/0x3)+-parseInt(_0x312487(0x150))/0x4+-parseInt(_0x312487(0x145))/0x5*(parseInt(_0x312487(0x11d))/0x6)+parseInt(_0x312487(0x13a))/0x7+parseInt(_0x312487(0x132))/0x8*(parseInt(_0x312487(0x158))/0x9)+-parseInt(_0x312487(0x130))/0xa;if(_0x3089cd===_0xd0a610)break;else _0x176243['push'](_0x176243['shift']());}catch(_0xec6be7){_0x176243['push'](_0x176243['shift']());}}}(_0x16ca,0xeea38));Object['defineProperty'](exports,_0x11cee8(0x138),{'value':!![]}),exports[_0x11cee8(0x12f)]=exports[_0x11cee8(0x113)]=void 0x0;const common_1=require(_0x11cee8(0x118)),axios=require(_0x11cee8(0x11b)),getApiModelMaps=()=>{const _0x27ea2b=_0x11cee8;let _0x493c58={};const _0x34e69b={'ERNIE-4.0-8K':'completions_pro','ERNIE-4.0-8K-Latest':_0x27ea2b(0x129),'ERNIE-4.0-8K-Preview':_0x27ea2b(0x117),'ERNIE-4.0-8K-Preview-0518':_0x27ea2b(0x12d),'ERNIE-4.0-8K-0613':_0x27ea2b(0x14c),'ERNIE-4.0-8K-0329':_0x27ea2b(0x157),'ERNIE-4.0-Turbo-8K':_0x27ea2b(0x111),'ERNIE-3.5-128K':_0x27ea2b(0x133),'ERNIE-3.5-8K':_0x27ea2b(0x151),'ERNIE-3.5-8K-Preview':_0x27ea2b(0x123),'ERNIE-3.5-8K-0613':_0x27ea2b(0x134),'ERNIE-3.5-8K-0329':'ernie-3.5-8k-0329','ERNIE-Speed-128K':'ernie-speed-128k','ERNIE-Speed-8K':_0x27ea2b(0x148),'ERNIE\x20Speed-AppBuilder':_0x27ea2b(0x13e),'ERNIE-Character-8K':_0x27ea2b(0x154),'ERNIE-Functions-8K':'ernie-func-8k','ERNIE-Lite-8K':_0x27ea2b(0x140),'ERNIE-Lite-8K-0922（原ERNIE-Bot-turbo-0922）':_0x27ea2b(0x11f),'ERNIE-Lite-AppBuilder-8K':_0x27ea2b(0x14e),'ERNIE-Tiny-8K':_0x27ea2b(0x14f),'ERNIE-Novel-8K':_0x27ea2b(0x143),'Qianfan-Chinese-Llama-2-7B':_0x27ea2b(0x112),'Qianfan-Chinese-Llama-2-13B':_0x27ea2b(0x13d),'Qianfan-Chinese-Llama-2-70B':_0x27ea2b(0x13c),'Meta-Llama-3-8B':_0x27ea2b(0x159),'Meta-Llama-3-70B':_0x27ea2b(0x10b),'Llama-2-7B-Chat':_0x27ea2b(0x124),'Llama-2-13B-Chat':_0x27ea2b(0x10e),'Llama-2-70B-Chat':_0x27ea2b(0x126),'ChatGLM2-6B-32K':_0x27ea2b(0x128),'XuanYuan-70B-Chat-4bit':_0x27ea2b(0x135),'Gemma-7B-It':_0x27ea2b(0x14b),'Yi-34B-Chat':_0x27ea2b(0x10a),'Mixtral-8x7B-Instruct':'mixtral_8x7b_instruct','SQLCoder-7B':_0x27ea2b(0x14d),'CodeLlama-7B-Instruct':_0x27ea2b(0x119),'ChatLaw':_0x27ea2b(0x153),'Qianfan-BLOOMZ-7B-compressed':_0x27ea2b(0x10f),'BLOOMZ-7B':_0x27ea2b(0x144),'AquilaChat-7B':_0x27ea2b(0x110),'Stable-Diffusion-XL':'sd_xl','Fuyu-8B':_0x27ea2b(0x13f),'bge-large-en':_0x27ea2b(0x15a),'bge-large-zh':_0x27ea2b(0x114),'tao-8k':'tao_8k','Embedding-V1':_0x27ea2b(0x12c),'bce-reranker-base':'bce_reranker_base','tokenizer':'erniebot','Prompt模板':_0x27ea2b(0x146),'ERNIE-Character-Fiction-8K':_0x27ea2b(0x120),'ERNIE-4.0-Turbo-8K-Preview':_0x27ea2b(0x141),'ERNIE-3.5-8K-0701':_0x27ea2b(0x12a),'Qianfan-Dynamic-8k':'qianfan-dynamic-8k'};return Object[_0x27ea2b(0x122)](_0x34e69b)[_0x27ea2b(0x11a)](_0x40acba=>{const _0x3d0637=_0x27ea2b;_0x493c58[''+_0x40acba[_0x3d0637(0x127)]()]=_0x34e69b[_0x40acba];}),_0x493c58;};function getAccessToken(_0x5bf9c7,_0x59d099){const _0x18e6e8=_0x11cee8;let _0x242167=_0x18e6e8(0x155)+_0x5bf9c7+_0x18e6e8(0x12e)+_0x59d099;return new Promise((_0x2700e0,_0x2aaa40)=>{const _0x347606=_0x18e6e8;axios['post'](_0x242167)['then'](_0x37be03=>{const _0x4b00f9=_0x1408;_0x2700e0(_0x37be03[_0x4b00f9(0x11c)]['access_token']);})[_0x347606(0x121)](_0x3b0c00=>{const _0x116466=_0x347606;common_1[_0x116466(0x137)][_0x116466(0x156)](_0x3b0c00[_0x116466(0x142)],_0x116466(0x152));});});}exports[_0x11cee8(0x113)]=getAccessToken;function sendMessageFromBaidu(_0x6abb6d,{onProgress:_0x3649b9,accessToken:_0x333392,model:_0x93a799,temperature:temperature=0.95}){const _0x484e62=_0x11cee8,_0x2f8586=getApiModelMaps()[_0x93a799['trim']()[_0x484e62(0x127)]()];return new Promise((_0x22345c,_0x4e835c)=>{const _0x3c7e33=_0x484e62,_0x570df2=_0x3c7e33(0x136)+_0x2f8586+_0x3c7e33(0x139)+_0x333392,_0x22515b={'method':_0x3c7e33(0x131),'url':_0x570df2,'responseType':_0x3c7e33(0x11e),'headers':{'Content-Type':_0x3c7e33(0x115)},'data':{'stream':!![],'messages':_0x6abb6d}};axios(_0x22515b)['then'](_0x4b433d=>{const _0x12925b=_0x3c7e33,_0x548832=_0x4b433d['data'];let _0x13059b={},_0x384463='',_0x84d1c4='';_0x548832['on'](_0x12925b(0x11c),_0x158eb3=>{const _0x1e16cb=_0x12925b,_0x5dbe29=_0x158eb3[_0x1e16cb(0x147)]()[_0x1e16cb(0x10d)]('\x0a\x0a')[_0x1e16cb(0x14a)](_0xaf9d2f=>_0xaf9d2f['trim']()!=='');for(const _0x2d535f of _0x5dbe29){const _0x629aae=_0x2d535f[_0x1e16cb(0x116)]('data:\x20','');try{const _0x1e2bd1=_0x384463+_0x629aae,_0x2c1e1f=JSON['parse'](_0x1e2bd1);_0x384463='';const {is_end:_0x315960,result:_0x8286fa}=_0x2c1e1f;_0x8286fa&&(_0x84d1c4+=_0x8286fa),_0x315960&&(_0x13059b=_0x2c1e1f,_0x13059b['text']=_0x84d1c4),_0x3649b9(_0x2c1e1f);}catch(_0x10fc17){_0x384463=_0x629aae;}}}),_0x548832['on'](_0x12925b(0x12b),()=>{_0x84d1c4='',_0x384463='',_0x22345c(_0x13059b);});})['catch'](_0x36c7b3=>{const _0x56262b=_0x3c7e33;console[_0x56262b(0x13b)](_0x36c7b3),_0x4e835c(new Error(_0x36c7b3));});});}exports[_0x11cee8(0x12f)]=sendMessageFromBaidu;