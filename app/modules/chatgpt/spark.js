'use strict';const _0x4a9e05=_0x2bee;function _0x2bee(_0x5c332d,_0x249030){const _0x370f41=_0x370f();return _0x2bee=function(_0x2bee4f,_0xcbaaa8){_0x2bee4f=_0x2bee4f-0x88;let _0x40e1f8=_0x370f41[_0x2bee4f];return _0x40e1f8;},_0x2bee(_0x5c332d,_0x249030);}(function(_0x2fce1d,_0x347585){const _0x2babd9=_0x2bee,_0xdbbdb=_0x2fce1d();while(!![]){try{const _0x5851a6=parseInt(_0x2babd9(0x96))/0x1*(parseInt(_0x2babd9(0x9d))/0x2)+-parseInt(_0x2babd9(0xa3))/0x3*(parseInt(_0x2babd9(0x93))/0x4)+-parseInt(_0x2babd9(0x99))/0x5+-parseInt(_0x2babd9(0xa2))/0x6+parseInt(_0x2babd9(0x9b))/0x7+parseInt(_0x2babd9(0x8f))/0x8+parseInt(_0x2babd9(0x8d))/0x9;if(_0x5851a6===_0x347585)break;else _0xdbbdb['push'](_0xdbbdb['shift']());}catch(_0x25d9b5){_0xdbbdb['push'](_0xdbbdb['shift']());}}}(_0x370f,0x74451));Object[_0x4a9e05(0xa1)](exports,_0x4a9e05(0x8b),{'value':!![]}),exports[_0x4a9e05(0xa0)]=void 0x0;const spark_node_sdk_1=require('spark-node-sdk');class XunFeiSpark{constructor(_0x101719){const _0x4832bb=_0x4a9e05;this['message']={},this['getModel']=_0x362eea=>{const _0x598aa0=_0x2bee;return _0x362eea['includes']('V1.5')?spark_node_sdk_1[_0x598aa0(0x91)][_0x598aa0(0x94)]:_0x362eea[_0x598aa0(0x95)](_0x598aa0(0x8c))?spark_node_sdk_1['ModelVersion']['V2']:spark_node_sdk_1[_0x598aa0(0x91)]['V3'];};const {appid:_0x113afe,secret:_0x14383b,key:_0x3a5466}=_0x101719;this['spark']=new spark_node_sdk_1[(_0x4832bb(0x9c))](_0x113afe,_0x3a5466,_0x14383b);}async[_0x4a9e05(0x90)](_0x241c46,_0x20dd11){const _0x5039d8=_0x4a9e05;let _0x572d65={'usage':{'completion_tokens':0x0,'prompt_tokens':0x0,'question_tokens':0x0,'total_tokens':0x0},'text':''},_0x546270='';const {temperature:_0x1bf1cf,chatId:_0x5acecb,model:_0x576f71,onProgress:_0x288f41,abortController:_0x239a4b}=_0x20dd11,_0x2e77a1=this[_0x5039d8(0x97)](_0x576f71);let _0xd5de28=typeof _0x241c46==='string'?[spark_node_sdk_1[_0x5039d8(0x88)][_0x5039d8(0x89)](_0x241c46)]:_0x241c46[_0x5039d8(0x92)](_0x2f71d2=>spark_node_sdk_1[_0x5039d8(0x88)][_0x5039d8(0x89)](_0x2f71d2[_0x5039d8(0x9a)]));return await this[_0x5039d8(0x8a)][_0x5039d8(0x9f)](_0x2e77a1,_0xd5de28,_0x312b34=>{const _0x47763c=_0x5039d8;try{_0x312b34&&(_0x546270+=_0x312b34[_0x47763c(0x9e)]),_0x572d65[_0x47763c(0x8e)]=_0x312b34[_0x47763c(0x98)],_0x572d65['text']=_0x546270,_0x288f41(_0x572d65);}catch(_0x267751){console['log'](_0x267751),_0x288f41(_0x572d65);}},{'temperature':_0x1bf1cf||0.5,'max_tokens':0x800,'top_k':0x4,'chat_id':null},_0x5acecb,_0x239a4b),{'text':_0x546270,'usage':_0x572d65[_0x5039d8(0x8e)]};}}function _0x370f(){const _0x5393a4=['812796XuesRy','text','chatAsync','XunFeiSpark','defineProperty','3219474jLlVVD','3LOZLqR','ChatMessage','fromUser','spark','__esModule','V2.0','2957814jEkuGm','usage','6611440YWHTeN','sendMessageFromXunFei','ModelVersion','map','1734916yVwPbX','V1_5','includes','1CUuwnW','getModel','uasge','4567345HxXGTG','content','5589808WUetxS','SparkClient'];_0x370f=function(){return _0x5393a4;};return _0x370f();}exports[_0x4a9e05(0xa0)]=XunFeiSpark;