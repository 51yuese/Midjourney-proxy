'use strict';const _0x54b237=_0x2b87;(function(_0x2e4551,_0x59eb54){const _0x33f17a=_0x2b87,_0x488c6c=_0x2e4551();while(!![]){try{const _0x337c04=parseInt(_0x33f17a(0x219))/0x1*(parseInt(_0x33f17a(0x1fa))/0x2)+-parseInt(_0x33f17a(0x1d1))/0x3*(-parseInt(_0x33f17a(0x1f7))/0x4)+-parseInt(_0x33f17a(0x1e5))/0x5+parseInt(_0x33f17a(0x1ec))/0x6*(parseInt(_0x33f17a(0x1b5))/0x7)+-parseInt(_0x33f17a(0x1de))/0x8+-parseInt(_0x33f17a(0x1b9))/0x9*(-parseInt(_0x33f17a(0x1d8))/0xa)+-parseInt(_0x33f17a(0x1f0))/0xb;if(_0x337c04===_0x59eb54)break;else _0x488c6c['push'](_0x488c6c['shift']());}catch(_0x573aeb){_0x488c6c['push'](_0x488c6c['shift']());}}}(_0x51d6,0xeb048));var __decorate=this&&this[_0x54b237(0x1bd)]||function(_0x4888d2,_0x410e72,_0x2bda2b,_0x5c639d){const _0x25081f=_0x54b237;var _0x4b6148=arguments[_0x25081f(0x1c6)],_0x48f5ff=_0x4b6148<0x3?_0x410e72:_0x5c639d===null?_0x5c639d=Object[_0x25081f(0x1be)](_0x410e72,_0x2bda2b):_0x5c639d,_0x1696bd;if(typeof Reflect===_0x25081f(0x1d2)&&typeof Reflect[_0x25081f(0x211)]===_0x25081f(0x1d3))_0x48f5ff=Reflect[_0x25081f(0x211)](_0x4888d2,_0x410e72,_0x2bda2b,_0x5c639d);else{for(var _0x257f27=_0x4888d2[_0x25081f(0x1c6)]-0x1;_0x257f27>=0x0;_0x257f27--)if(_0x1696bd=_0x4888d2[_0x257f27])_0x48f5ff=(_0x4b6148<0x3?_0x1696bd(_0x48f5ff):_0x4b6148>0x3?_0x1696bd(_0x410e72,_0x2bda2b,_0x48f5ff):_0x1696bd(_0x410e72,_0x2bda2b))||_0x48f5ff;}return _0x4b6148>0x3&&_0x48f5ff&&Object[_0x25081f(0x1c4)](_0x410e72,_0x2bda2b,_0x48f5ff),_0x48f5ff;},__metadata=this&&this[_0x54b237(0x216)]||function(_0x38f471,_0x5a2429){const _0x4d132c=_0x54b237;if(typeof Reflect===_0x4d132c(0x1d2)&&typeof Reflect[_0x4d132c(0x1d4)]===_0x4d132c(0x1d3))return Reflect['metadata'](_0x38f471,_0x5a2429);},__param=this&&this[_0x54b237(0x1dc)]||function(_0xb57fd2,_0x1a3452){return function(_0x46b8a1,_0x191acd){_0x1a3452(_0x46b8a1,_0x191acd,_0xb57fd2);};};Object['defineProperty'](exports,'__esModule',{'value':!![]}),exports['CramiService']=void 0x0;const common_1=require('@nestjs/common'),crami_entity_1=require('./crami.entity'),typeorm_1=require(_0x54b237(0x1ac)),typeorm_2=require('typeorm'),cramiPackage_entity_1=require(_0x54b237(0x1e0)),utils_1=require(_0x54b237(0x1dd)),balance_constant_1=require('../../common/constants/balance.constant'),user_service_1=require('../user/user.service'),nestjs_cls_1=require('nestjs-cls');function _0x2b87(_0xd19172,_0xb92df6){const _0x51d605=_0x51d6();return _0x2b87=function(_0x2b8794,_0x12f5c0){_0x2b8794=_0x2b8794-0x1ac;let _0xea8c59=_0x51d605[_0x2b8794];return _0xea8c59;},_0x2b87(_0xd19172,_0xb92df6);}let CramiService=class CramiService{constructor(_0x15e554,_0x41543f,_0x959471,_0x3f403c,_0x1f0c14){const _0x42e339=_0x54b237;this[_0x42e339(0x1f5)]=_0x15e554,this['cramiPackageEntity']=_0x41543f,this[_0x42e339(0x1bc)]=_0x959471,this[_0x42e339(0x1e9)]=_0x3f403c,this['connection']=_0x1f0c14;}async['listPackageByIds'](_0x5a5d9a){const _0x5e5829=_0x54b237;if(!_0x5a5d9a['length'])return[];return this[_0x5e5829(0x1c2)]['find']({'where':{'id':(0x0,typeorm_2['In'])(_0x5a5d9a)}});}async[_0x54b237(0x1e3)](_0x54f796){const _0x5beaa7=_0x54b237;try{let _0x37d82d;const _0x23d0c7=(0x0,utils_1[_0x5beaa7(0x1cc)])(this[_0x5beaa7(0x1bc)]),_0x4ddc0c=Number(_0x54f796[_0x5beaa7(0x1b6)]);if(_0x4ddc0c<0x0)throw new Error('套餐差价不能小于0！');const _0x3a3bc9=await this[_0x5beaa7(0x1c2)][_0x5beaa7(0x1cd)]({'where':{'delFlag':0x0,'name':_0x54f796['name'],'saasId':_0x23d0c7}});if(_0x3a3bc9)throw new Error(_0x5beaa7(0x222));if(_0x23d0c7!==0x0){_0x54f796=_0x54f796;if(!_0x54f796['originId'])throw new Error(_0x5beaa7(0x1e7));if(!_0x54f796[_0x5beaa7(0x221)])throw new Error(_0x5beaa7(0x1ca));if(!_0x54f796['markup'])throw new Error(_0x5beaa7(0x1ce));if(isNaN(_0x4ddc0c))throw new Error(_0x5beaa7(0x1b4));const _0x223b81=await this[_0x5beaa7(0x1c2)]['findOne']({'where':{'id':_0x54f796[_0x5beaa7(0x209)],'status':0x1}});if(!_0x223b81)throw new Error(_0x5beaa7(0x1d0));_0x37d82d=Object[_0x5beaa7(0x1ed)]({},_0x223b81,_0x54f796),_0x37d82d[_0x5beaa7(0x1fe)]=Number((Number(_0x223b81[_0x5beaa7(0x1b7)])+Number(_0x54f796['markup']))[_0x5beaa7(0x1e1)](0x2)),!_0x54f796['id']&&delete _0x37d82d['id'];}else _0x54f796=_0x54f796,_0x37d82d=Object[_0x5beaa7(0x1ed)]({},_0x54f796),_0x37d82d[_0x5beaa7(0x1fe)]=Number((_0x54f796[_0x5beaa7(0x1b7)]+_0x54f796[_0x5beaa7(0x1b6)])[_0x5beaa7(0x1e1)](0x2));_0x37d82d['saasId']=_0x23d0c7,await this[_0x5beaa7(0x1c2)][_0x5beaa7(0x223)](_0x37d82d);}catch(_0xc2b8cd){throw new common_1[(_0x5beaa7(0x1fd))](_0xc2b8cd[_0x5beaa7(0x20f)],common_1[_0x5beaa7(0x1af)][_0x5beaa7(0x1ae)]);}}async['updatePackageV2'](_0x2e51c2){const _0x520bd5=_0x54b237;try{await this['connection'][_0x520bd5(0x1f9)](async()=>{const _0x4957b3=_0x520bd5,_0x64557a=(0x0,utils_1['getReqSaasId'])(this['clsService']),_0x1ac954=await this['cramiPackageEntity'][_0x4957b3(0x1c3)]({'where':{'id':_0x2e51c2['id']}});if(_0x1ac954['saasId']!==_0x64557a)throw new Error(_0x4957b3(0x1b8));const _0x5fb3f5=await this[_0x4957b3(0x1c2)]['findOne']({'where':{'id':(0x0,typeorm_2['Not'])(_0x2e51c2['id']),'name':_0x2e51c2['name'],'delFlag':0x0,'saasId':_0x64557a}});if(_0x5fb3f5)throw new Error(_0x4957b3(0x222));if(_0x64557a===0x0){const _0x5eec23=await this[_0x4957b3(0x1c2)][_0x4957b3(0x1c3)]({'where':{'id':_0x2e51c2['id']}});if(_0x5eec23['status']!==_0x2e51c2[_0x4957b3(0x1c8)]&&!_0x2e51c2[_0x4957b3(0x1c8)]){const _0x2d5e1b=await this[_0x4957b3(0x1c2)][_0x4957b3(0x1b2)]({'where':{'originId':_0x2e51c2['id']},'select':['id']}),_0x465bfa=_0x2d5e1b;_0x2d5e1b[_0x4957b3(0x1c6)]&&await this['cramiPackageEntity'][_0x4957b3(0x1db)]({'originId':(0x0,typeorm_2['In'])(_0x465bfa)},{'status':_0x2e51c2[_0x4957b3(0x1c8)]});}}else delete _0x2e51c2[_0x4957b3(0x1c8)];await this[_0x4957b3(0x1c2)]['save'](_0x2e51c2);});}catch(_0x7be925){throw new common_1[(_0x520bd5(0x1fd))](_0x7be925[_0x520bd5(0x20f)],common_1['HttpStatus'][_0x520bd5(0x1ae)]);}}async[_0x54b237(0x20d)](_0x34a5ae){const _0x318f93=_0x54b237;if(!_0x34a5ae[_0x318f93(0x21c)])return!![];return await this['cramiPackageEntity'][_0x318f93(0x1db)]({'id':(0x0,typeorm_2['In'])(_0x34a5ae[_0x318f93(0x21c)])},{'delFlag':0x1}),!![];}['package4Select'](_0x416a37){const _0xb2d72f=_0x54b237,_0x5596bc={'saasId':0x0,'delFlag':0x0,'status':0x1};return _0x416a37&&(_0x5596bc[_0xb2d72f(0x210)]=_0x416a37),this[_0xb2d72f(0x1c2)][_0xb2d72f(0x1b2)]({'where':_0x5596bc});}async[_0x54b237(0x1eb)](_0x39038e,_0x19af1c){const _0xc5fd30=_0x54b237,_0x44d38c=(0x0,utils_1[_0xc5fd30(0x1cc)])(this['clsService']),{page:page=0x1,size:size=0x14,name:_0x29ba5a,type:_0x336290,status:_0x125085,saasId:_0xd5169e}=_0x19af1c,_0x765e53={'delFlag':0x0};_0x29ba5a&&(_0x765e53[_0xc5fd30(0x1bb)]=(0x0,typeorm_2[_0xc5fd30(0x215)])('%'+_0x29ba5a+'%'));_0x336290&&(_0x765e53[_0xc5fd30(0x210)]=_0x336290);if(_0x39038e['headers'][_0xc5fd30(0x1c0)])_0x765e53[_0xc5fd30(0x1c8)]=0x1;else _0x125085&&(_0x765e53[_0xc5fd30(0x1c8)]=_0x125085);(0x0,utils_1[_0xc5fd30(0x1ee)])(this[_0xc5fd30(0x1bc)])?(0x0,utils_1[_0xc5fd30(0x1e8)])(this[_0xc5fd30(0x1bc)])&&_0xd5169e&&(_0x765e53[_0xc5fd30(0x204)]=_0xd5169e):_0x765e53[_0xc5fd30(0x204)]=_0x44d38c;const [_0x10c7d5,_0x9101e9]=await this[_0xc5fd30(0x1c2)][_0xc5fd30(0x20c)]({'where':_0x765e53,'order':{'order':_0xc5fd30(0x202)},'skip':(page-0x1)*size,'take':size});return{'rows':_0x10c7d5,'count':_0x9101e9};}async['packageDetailV2'](_0x28e044){const _0x21658d=_0x54b237,_0x2c9d36=await this[_0x21658d(0x1c2)][_0x21658d(0x1c3)]({'where':{'id':_0x28e044}});return _0x2c9d36;}async[_0x54b237(0x220)](_0x5275af,_0x139d19){const _0xcadcdb=_0x54b237,_0x38ec67=(0x0,utils_1[_0xcadcdb(0x1cc)])(this[_0xcadcdb(0x1bc)]),{page:page=0x1,size:size=0xa,useId:_0x20aa10,status:_0x21df38,saasId:_0x317c67}=_0x5275af,_0x409788={};(0x0,utils_1[_0xcadcdb(0x1c1)])(_0x20aa10)&&(_0x409788[_0xcadcdb(0x1d9)]=_0x20aa10);(0x0,utils_1[_0xcadcdb(0x1c1)])(_0x21df38)&&(_0x409788['status']=_0x21df38);(0x0,utils_1['isPlatform'])(this[_0xcadcdb(0x1bc)])?(0x0,utils_1[_0xcadcdb(0x1e8)])(this[_0xcadcdb(0x1bc)])&&_0x317c67&&(_0x409788[_0xcadcdb(0x204)]=_0x317c67):_0x409788[_0xcadcdb(0x204)]=_0x38ec67;const [_0x56bf5b,_0x33c02a]=await this[_0xcadcdb(0x1f5)][_0xcadcdb(0x20c)]({'where':_0x409788,'take':size,'skip':(page-0x1)*size,'order':{'createdAt':'DESC'}}),_0x2cfbfe=[],_0x304d34=[],_0x5f1a40=[];_0x56bf5b['forEach'](_0x4f89dc=>{const _0x4fa5b3=_0xcadcdb;_0x4f89dc[_0x4fa5b3(0x1d9)]&&_0x2cfbfe[_0x4fa5b3(0x214)](_0x4f89dc[_0x4fa5b3(0x1d9)]),_0x4f89dc[_0x4fa5b3(0x204)]&&_0x304d34[_0x4fa5b3(0x214)](_0x4f89dc[_0x4fa5b3(0x204)]),_0x4f89dc[_0x4fa5b3(0x1b1)]&&_0x5f1a40['push'](_0x4f89dc[_0x4fa5b3(0x1b1)]);});const _0x2527c0=new Map(),_0x4dfe96=await this[_0xcadcdb(0x1e9)][_0xcadcdb(0x21a)](_0x2cfbfe);_0x4dfe96['forEach'](_0xd3d199=>_0x2527c0[_0xcadcdb(0x1fc)](_0xd3d199['id'],_0xd3d199));const _0x29d750=new Map(),_0x3fcb37=await this[_0xcadcdb(0x1e9)][_0xcadcdb(0x201)](_0x304d34);_0x3fcb37[_0xcadcdb(0x1b3)](_0x38649d=>_0x29d750[_0xcadcdb(0x1fc)](_0x38649d['id'],_0x38649d));const _0x353b45=new Map(),_0x4933c4=await this[_0xcadcdb(0x1d7)](_0x5f1a40);_0x4933c4[_0xcadcdb(0x1b3)](_0x1c5f7c=>_0x353b45[_0xcadcdb(0x1fc)](_0x1c5f7c['id'],_0x1c5f7c));const _0x3c1c62=_0x56bf5b['map'](_0x33f177=>{const _0x777565=_0xcadcdb,_0x47b3cb=Object[_0x777565(0x1ed)]({},_0x33f177);if(_0x33f177[_0x777565(0x1d9)]){const _0x4e270c=_0x2527c0[_0x777565(0x1b0)](_0x33f177[_0x777565(0x1d9)]);_0x47b3cb[_0x777565(0x1f4)]=_0x4e270c?.[_0x777565(0x1f4)],_0x47b3cb[_0x777565(0x224)]=_0x4e270c?.[_0x777565(0x224)];}if(_0x33f177['saasId']){const _0x444255=_0x29d750[_0x777565(0x1b0)](_0x33f177['saasId']);_0x47b3cb['saasName']=_0x444255?.['name'];}else _0x47b3cb[_0x777565(0x1ad)]='平台';if(_0x33f177[_0x777565(0x1b1)]){const _0x312e14=_0x353b45[_0x777565(0x1b0)](_0x33f177[_0x777565(0x1b1)]);_0x47b3cb[_0x777565(0x200)]=_0x312e14?.[_0x777565(0x1bb)];}return _0x47b3cb;});return{'rows':_0x3c1c62,'count':_0x33c02a};}async['generateCrami'](_0x5973b7,_0x4704fb){const _0x32747d=_0x54b237,_0x4efccd=[],_0x207b14=await(0x0,utils_1[_0x32747d(0x1cc)])(this['clsService']);for(let _0x22758c=0x0;_0x22758c<_0x4704fb;_0x22758c++){const _0x1cd05e=(0x0,utils_1[_0x32747d(0x21f)])(),_0x2c5861=this[_0x32747d(0x1f5)][_0x32747d(0x207)]({..._0x5973b7,'code':_0x1cd05e,'saasId':_0x207b14});_0x4efccd[_0x32747d(0x214)](_0x2c5861);}await this[_0x32747d(0x1f5)][_0x32747d(0x223)](_0x4efccd);}async[_0x54b237(0x21d)](_0x100cb2){const _0x1a7c69=_0x54b237;try{const {packageId:_0x15d838,score:_0x591c0d,count:count=0x1}=_0x100cb2;if(!(0x0,utils_1[_0x1a7c69(0x1ee)])(this[_0x1a7c69(0x1bc)]))throw new common_1['HttpException'](_0x1a7c69(0x1ef),common_1[_0x1a7c69(0x1af)][_0x1a7c69(0x1ba)]);if(_0x15d838){const _0x278510=await this[_0x1a7c69(0x1c2)]['findOne']({'where':{'id':_0x15d838}});if(!_0x278510)throw new Error(_0x1a7c69(0x1ea));await this[_0x1a7c69(0x1f3)]({'packageId':_0x15d838},count);}else{if(!_0x591c0d)throw new Error(_0x1a7c69(0x1fb));await this['generateCrami']({'score':_0x591c0d},count);}return!![];}catch(_0x9c4a31){if(_0x9c4a31 instanceof common_1[_0x1a7c69(0x1fd)])throw _0x9c4a31;else throw new common_1[(_0x1a7c69(0x1fd))](_0x9c4a31[_0x1a7c69(0x20f)],common_1[_0x1a7c69(0x1af)]['BAD_REQUEST']);}}async[_0x54b237(0x21e)](_0x4e4077){const _0x4da3d9=_0x54b237,_0x370a38=await this[_0x4da3d9(0x1f5)][_0x4da3d9(0x1c3)]({'where':{'id':_0x4e4077}});if(!_0x370a38)throw new common_1[(_0x4da3d9(0x1fd))](_0x4da3d9(0x1f6),common_1[_0x4da3d9(0x1af)][_0x4da3d9(0x1ae)]);if(_0x370a38['status']===0x1)throw new common_1[(_0x4da3d9(0x1fd))]('当前卡密已被使用、已使用的卡密禁止删除！',common_1[_0x4da3d9(0x1af)][_0x4da3d9(0x1ae)]);return await this[_0x4da3d9(0x1f5)][_0x4da3d9(0x21b)]({'id':_0x4e4077}),!![];}async[_0x54b237(0x20b)](_0x149e0e){const _0x84481a=_0x54b237,{ids:_0x192bfe}=_0x149e0e,_0xfbec10=await this[_0x84481a(0x1f5)][_0x84481a(0x21b)]({'id':(0x0,typeorm_2['In'])(_0x192bfe),'status':(0x0,typeorm_2[_0x84481a(0x1cb)])(0x1)});return _0xfbec10[_0x84481a(0x1c7)]===_0x192bfe['length']?'删除成功！':'共'+_0x192bfe[_0x84481a(0x1c6)]+'条记录，成功删除'+_0xfbec10[_0x84481a(0x1c7)]+_0x84481a(0x218);}async[_0x54b237(0x208)](_0x213286){const _0x304110=_0x54b237,{ids:_0x605a0a,saasId:_0x3670ab}=_0x213286;if(!(0x0,utils_1[_0x304110(0x1ee)])(this['clsService']))throw new common_1[(_0x304110(0x1fd))](_0x304110(0x213),common_1[_0x304110(0x1af)][_0x304110(0x1ba)]);return await this[_0x304110(0x1f5)]['update']({'id':(0x0,typeorm_2['In'])(_0x605a0a),'status':0x0,'saasId':0x0},{'saasId':_0x3670ab}),!![];}async[_0x54b237(0x1f1)](_0x21fd7b,_0x3103fb){const _0x2583b7=_0x54b237;return await this[_0x2583b7(0x1da)][_0x2583b7(0x1f9)](async()=>{const _0x54b3bf=_0x2583b7,_0x7b54fe=(0x0,utils_1[_0x54b3bf(0x1cc)])(this['clsService']),_0x10a0ce=await this[_0x54b3bf(0x1e9)][_0x54b3bf(0x20e)](_0x21fd7b[_0x54b3bf(0x1f2)]['id']),_0xfb70f2=await this['cramiEntity']['findOne']({'where':{'code':_0x3103fb['code'],'saasId':_0x7b54fe}});if(!_0xfb70f2)throw new common_1[(_0x54b3bf(0x1fd))](_0x54b3bf(0x1c5),common_1[_0x54b3bf(0x1af)][_0x54b3bf(0x1ae)]);const {status:_0x2c927e,score:_0x330ef7,packageId:_0x46ed09}=_0xfb70f2;if(_0x2c927e===0x1)throw new common_1['HttpException'](_0x54b3bf(0x1cf),common_1[_0x54b3bf(0x1af)][_0x54b3bf(0x1ae)]);if(_0x46ed09){const _0x5e2f77=await this[_0x54b3bf(0x1c2)][_0x54b3bf(0x1c3)]({'where':{'id':_0x46ed09,'status':0x1}});if(!_0x5e2f77)throw new common_1[(_0x54b3bf(0x1fd))]('当前充值套餐已经停用或已删除！',common_1[_0x54b3bf(0x1af)][_0x54b3bf(0x1ae)]);_0x5e2f77[_0x54b3bf(0x217)]>0x0&&await this[_0x54b3bf(0x1e9)][_0x54b3bf(0x20a)](_0x10a0ce,balance_constant_1[_0x54b3bf(0x203)][_0x54b3bf(0x206)],_0x5e2f77['score'],'卡密兑换套餐：'+_0x5e2f77[_0x54b3bf(0x1bb)],_0x3103fb[_0x54b3bf(0x1ff)]),_0x5e2f77[_0x54b3bf(0x1e6)]!==0x0&&await this['userService'][_0x54b3bf(0x205)](_0x10a0ce,balance_constant_1[_0x54b3bf(0x203)]['CRAMI'],_0x5e2f77[_0x54b3bf(0x1e6)],_0x54b3bf(0x1e4)+_0x5e2f77[_0x54b3bf(0x1bb)],_0x3103fb['code']);}else await this[_0x54b3bf(0x1e9)][_0x54b3bf(0x20a)](_0x10a0ce,balance_constant_1[_0x54b3bf(0x203)][_0x54b3bf(0x206)],_0x330ef7,'卡密兑换积分',_0x3103fb[_0x54b3bf(0x1ff)]);await this[_0x54b3bf(0x1f5)][_0x54b3bf(0x1db)]({'code':_0x3103fb[_0x54b3bf(0x1ff)]},{'useId':_0x10a0ce['id'],'status':0x1});}),_0x2583b7(0x1d6);}};function _0x51d6(){const _0x12eff1=['__decorate','getOwnPropertyDescriptor','CramiService','fingerprint','isDefined','cramiPackageEntity','findOne','defineProperty','当前卡密不存在、请确认您输入的卡密是否正确！','length','affected','status','Injectable','套餐原价不能为空！','Not','getReqSaasId','exists','套餐差价不能为空！','当前卡密已被使用、请确认您输入的卡密是否正确！','原始套餐不存在！','399qIygys','object','function','metadata','CramiEntity','使用卡密成功','listPackageByIds','3860YFrTRO','useId','connection','update','__param','../../common/utils','10551776vXEyaw','InjectRepository','./cramiPackage.entity','toFixed','CramiPackageEntity','savePackageV2','卡密兑换：','8356355nOXNKa','days','平台套餐id不能为空！','isManage','userService','当前套餐不存在、请确认您选择的套餐是否存在！','packagePageV2','652506VgTUgU','assign','isPlatform','非法操作','15585845lAJYJB','useCrami','user','generateCrami','email','cramiEntity','当前卡密不存在、请确认您要删除的卡密是否存在！','39080IMUgZF','Repository','transaction','3459254yhDmSO','自定义卡密积分余额不为0️零！','set','HttpException','price','code','packageName','ListSaasByIds','DESC','EChangeType','saasId','updateVipExpire','CRAMI','create','distribute','originId','changeScore4Other','batchDelCrami','findAndCount','packageDeleteV2','getUserById','message','type','decorate','Connection','非法访问','push','Like','__metadata','score','条记录！','1qkTFit','findByIds','delete','ids','createCrami','delCrami','generateCramiCode','queryAllCrami','originPrice','套餐已存在，请修改套餐名称！','save','phone','@nestjs/typeorm','saasName','BAD_REQUEST','HttpStatus','get','packageId','find','forEach','套餐差价格式错误！','105cnhTAx','markup','costs','不是套餐创建saas，无法修改！','16542UNIrrM','FORBIDDEN','name','clsService'];_0x51d6=function(){return _0x12eff1;};return _0x51d6();}CramiService=__decorate([(0x0,common_1[_0x54b237(0x1c9)])(),__param(0x0,(0x0,typeorm_1[_0x54b237(0x1df)])(crami_entity_1[_0x54b237(0x1d5)])),__param(0x1,(0x0,typeorm_1[_0x54b237(0x1df)])(cramiPackage_entity_1[_0x54b237(0x1e2)])),__metadata('design:paramtypes',[typeorm_2[_0x54b237(0x1f8)],typeorm_2[_0x54b237(0x1f8)],nestjs_cls_1['ClsService'],user_service_1['UserService'],typeorm_2[_0x54b237(0x212)]])],CramiService),exports[_0x54b237(0x1bf)]=CramiService;