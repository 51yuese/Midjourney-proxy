'use strict';const _0xf1cd22=_0x1329;(function(_0x1e9a03,_0x4bc61b){const _0x1ea770=_0x1329,_0x37118d=_0x1e9a03();while(!![]){try{const _0x3c387d=parseInt(_0x1ea770(0xe7))/0x1+parseInt(_0x1ea770(0xf1))/0x2*(-parseInt(_0x1ea770(0xe9))/0x3)+parseInt(_0x1ea770(0xf5))/0x4*(-parseInt(_0x1ea770(0x105))/0x5)+-parseInt(_0x1ea770(0xfd))/0x6*(-parseInt(_0x1ea770(0xe4))/0x7)+-parseInt(_0x1ea770(0xe8))/0x8+parseInt(_0x1ea770(0xd8))/0x9+-parseInt(_0x1ea770(0x100))/0xa*(-parseInt(_0x1ea770(0xeb))/0xb);if(_0x3c387d===_0x4bc61b)break;else _0x37118d['push'](_0x37118d['shift']());}catch(_0x9fd42c){_0x37118d['push'](_0x37118d['shift']());}}}(_0x1f7d,0x62c54));Object[_0xf1cd22(0xf8)](exports,_0xf1cd22(0xfe),{'value':!![]}),exports[_0xf1cd22(0xef)]=void 0x0;function _0x1f7d(){const _0x672907=['mjProxySecert','length','/mj','mjTransferOrganization','3085GpyzzN','log','substring','use','Bearer\x20','787824wjsGDC','data','headers','notifyHook','test','mjModel','MjConfig','env','reject','../../../common/store','/api/midjourney/notify','baseURL','263788ujNDIH','mode','request','719978PAqbpq','1187216blHIfX','667578iJqhPB','mjProxy','9145169RpUeZw','interceptors','[MJP请求参数]','未配置MJ绘图设置或不合法的MJ绘图设置','mjpRequest','axios','4mItjqR','[MJP请求响应]','@nestjs/common','response','5132vDereR','mjTransfer','GOMAXAI_HOST','defineProperty','https://','[MJP请求地址]','url','Logger','24jeYXfR','__esModule','accountFilter','10nmwvmE'];_0x1f7d=function(){return _0x672907;};return _0x1f7d();}const store_1=require(_0xf1cd22(0xe1)),common_1=require(_0xf1cd22(0xf3)),axios_1=require(_0xf1cd22(0xf0)),axIns=axios_1['default']['create']();function _0x1329(_0x40f2ba,_0x5d202a){const _0x1f7da5=_0x1f7d();return _0x1329=function(_0x13293a,_0x512266){_0x13293a=_0x13293a-0xd6;let _0x420d73=_0x1f7da5[_0x13293a];return _0x420d73;},_0x1329(_0x40f2ba,_0x5d202a);}axIns[_0xf1cd22(0xec)][_0xf1cd22(0xe6)][_0xf1cd22(0xd6)](function(_0x541360){const _0x535569=_0xf1cd22;common_1[_0x535569(0xfc)][_0x535569(0x106)](_0x535569(0xfa),_0x541360[_0x535569(0xfb)]);const _0x4039f0={};for(let _0x4d1fcd in _0x541360[_0x535569(0xd9)]){_0x541360['data'][_0x4d1fcd]?.[_0x535569(0x102)]>0x64?_0x4039f0[_0x4d1fcd]=_0x541360[_0x535569(0xd9)][_0x4d1fcd][_0x535569(0x107)](0x0,0x64):_0x4039f0[_0x4d1fcd]=_0x541360[_0x535569(0xd9)][_0x4d1fcd];}return common_1[_0x535569(0xfc)][_0x535569(0x106)](_0x535569(0xed),_0x4039f0),_0x541360;},function(_0x1c66b1){return Promise['reject'](_0x1c66b1);}),axIns['interceptors'][_0xf1cd22(0xf4)][_0xf1cd22(0xd6)](function(_0x5323c3){const _0x43b7ad=_0xf1cd22;return common_1['Logger'][_0x43b7ad(0x106)](_0x43b7ad(0xf2),_0x5323c3['data']),_0x5323c3;},function(_0x34652a){const _0x2d8efb=_0xf1cd22;return Promise[_0x2d8efb(0xe0)](_0x34652a);});const mjpRequest=async function(_0x4a652d){const _0x101974=_0xf1cd22;if(store_1[_0x101974(0xde)][_0x101974(0xdd)]===_0x101974(0xea))_0x4a652d[_0x101974(0xe3)]=store_1[_0x101974(0xde)]['mjProxyHost'],_0x4a652d[_0x101974(0xda)]={'mj-api-secret':store_1[_0x101974(0xde)][_0x101974(0x101)]};else{if(store_1['MjConfig'][_0x101974(0xdd)]===_0x101974(0xf6))_0x4a652d[_0x101974(0xe3)]=store_1[_0x101974(0xde)]['mjTransferHost'],_0x4a652d[_0x101974(0xda)]={'OpenAI-Organization':store_1[_0x101974(0xde)][_0x101974(0x104)],'Authorization':_0x101974(0xd7)+store_1[_0x101974(0xde)]['mjTransferSecert']};else throw new Error(_0x101974(0xee));}if(_0x4a652d[_0x101974(0xd9)]){let _0x3f8445=process[_0x101974(0xdf)][_0x101974(0xf7)];!/^http/[_0x101974(0xdc)](_0x3f8445)&&(_0x3f8445=_0x101974(0xf9)+_0x3f8445);const _0x5ee23a=/swap|blend|describe|imagine|modal|action/;_0x5ee23a[_0x101974(0xdc)](_0x4a652d[_0x101974(0xfb)])&&(_0x4a652d[_0x101974(0xd9)][_0x101974(0xdb)]=_0x3f8445+_0x101974(0xe2)),!_0x4a652d[_0x101974(0xd9)][_0x101974(0xff)]&&delete _0x4a652d[_0x101974(0xd9)][_0x101974(0xff)];}if(store_1[_0x101974(0xde)][_0x101974(0xdd)]===_0x101974(0xf6)){if(_0x4a652d[_0x101974(0xd9)]?.[_0x101974(0xe5)]){let _0x796111=_0x101974(0x103)+'-'+_0x4a652d[_0x101974(0xd9)][_0x101974(0xe5)];_0x4a652d[_0x101974(0xfb)]=_0x796111+_0x4a652d[_0x101974(0xfb)];}}const _0x465b47=await axIns(_0x4a652d);return _0x465b47[_0x101974(0xd9)];};exports[_0xf1cd22(0xef)]=mjpRequest;