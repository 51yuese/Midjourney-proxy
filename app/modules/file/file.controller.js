'use strict';function _0x2dbf(_0x17d0a3,_0xed4d2f){const _0xcd8b10=_0xcd8b();return _0x2dbf=function(_0x2dbfae,_0x8612b){_0x2dbfae=_0x2dbfae-0x73;let _0x5796ff=_0xcd8b10[_0x2dbfae];return _0x5796ff;},_0x2dbf(_0x17d0a3,_0xed4d2f);}const _0x2cc297=_0x2dbf;function _0xcd8b(){const _0x3cf4ce=['upload','1508DMvkUi','binary','from','Get','metadata','Res','1283880mbiKMM','downFile','decorate','ApiBearerAuth','__param','upload2Local','491424RphZNm','6qBBbie','Query','UseInterceptors','UploaderDto','__metadata','Req','1ImlAEH','__decorate','@nestjs/common','ApiTags','Post','./file.service','UploadedFile','通过任务id获取原始任务的图片base64，并解决跨域问题','Body','design:paramtypes','16580270FKwhVz','fileService','design:returntype','design:type','2872314XZsyBE','file','FileController','function','defineProperty','FileInterceptor','上传文件','originalname','2359ymRXRt','1323475PbHKDs','uploadFile','ApiOperation','prototype','上传文件到本地服务器','buffer','13768DTmJcT','toString','utf-8','length','getProxyRequest','object','getModalImgById'];_0xcd8b=function(){return _0x3cf4ce;};return _0xcd8b();}(function(_0x4c1c1d,_0x526bdd){const _0x163554=_0x2dbf,_0x6c7a89=_0x4c1c1d();while(!![]){try{const _0xeb3987=-parseInt(_0x163554(0xa3))/0x1*(parseInt(_0x163554(0x90))/0x2)+parseInt(_0x163554(0x9c))/0x3+-parseInt(_0x163554(0x96))/0x4+parseInt(_0x163554(0x82))/0x5*(-parseInt(_0x163554(0x9d))/0x6)+-parseInt(_0x163554(0x81))/0x7*(parseInt(_0x163554(0x88))/0x8)+-parseInt(_0x163554(0x79))/0x9+parseInt(_0x163554(0x75))/0xa;if(_0xeb3987===_0x526bdd)break;else _0x6c7a89['push'](_0x6c7a89['shift']());}catch(_0x29ee5c){_0x6c7a89['push'](_0x6c7a89['shift']());}}}(_0xcd8b,0x521a5));var __decorate=this&&this[_0x2cc297(0xa4)]||function(_0x4a7694,_0x24f1cd,_0x51ad2e,_0x5ddde1){const _0xf54dc=_0x2cc297;var _0x423d55=arguments[_0xf54dc(0x8b)],_0x44bbe8=_0x423d55<0x3?_0x24f1cd:_0x5ddde1===null?_0x5ddde1=Object['getOwnPropertyDescriptor'](_0x24f1cd,_0x51ad2e):_0x5ddde1,_0x2393e8;if(typeof Reflect===_0xf54dc(0x8d)&&typeof Reflect[_0xf54dc(0x98)]===_0xf54dc(0x7c))_0x44bbe8=Reflect[_0xf54dc(0x98)](_0x4a7694,_0x24f1cd,_0x51ad2e,_0x5ddde1);else{for(var _0x596e7e=_0x4a7694[_0xf54dc(0x8b)]-0x1;_0x596e7e>=0x0;_0x596e7e--)if(_0x2393e8=_0x4a7694[_0x596e7e])_0x44bbe8=(_0x423d55<0x3?_0x2393e8(_0x44bbe8):_0x423d55>0x3?_0x2393e8(_0x24f1cd,_0x51ad2e,_0x44bbe8):_0x2393e8(_0x24f1cd,_0x51ad2e))||_0x44bbe8;}return _0x423d55>0x3&&_0x44bbe8&&Object[_0xf54dc(0x7d)](_0x24f1cd,_0x51ad2e,_0x44bbe8),_0x44bbe8;},__metadata=this&&this[_0x2cc297(0xa1)]||function(_0x3bf75f,_0x311e60){const _0x2db2e8=_0x2cc297;if(typeof Reflect===_0x2db2e8(0x8d)&&typeof Reflect['metadata']==='function')return Reflect[_0x2db2e8(0x94)](_0x3bf75f,_0x311e60);},__param=this&&this[_0x2cc297(0x9a)]||function(_0x27557b,_0x1f5f75){return function(_0x1f0323,_0xdaf483){_0x1f5f75(_0x1f0323,_0xdaf483,_0x27557b);};};Object[_0x2cc297(0x7d)](exports,'__esModule',{'value':!![]}),exports[_0x2cc297(0x7b)]=void 0x0;const file_service_1=require(_0x2cc297(0xa8)),common_1=require(_0x2cc297(0xa5)),swagger_1=require('@nestjs/swagger'),platform_express_1=require('@nestjs/platform-express'),uploder_dto_1=require('./dto/uploder.dto');let FileController=class FileController{constructor(_0x308251){this['fileService']=_0x308251;}async[_0x2cc297(0x83)](_0x5f3728,_0x49c353){const _0x1700ad=_0x2cc297,_0x14454a=Buffer[_0x1700ad(0x92)](_0x49c353[_0x1700ad(0x80)],_0x1700ad(0x91))['toString']('utf-8');return this[_0x1700ad(0x76)]['uploadFile']({'filename':_0x14454a,'buffer':_0x49c353[_0x1700ad(0x87)],..._0x5f3728});}async['upload2Local'](_0x276407,_0x29bdf5){const _0x2ba986=_0x2cc297,_0x5b7bed=Buffer[_0x2ba986(0x92)](_0x29bdf5[_0x2ba986(0x80)],_0x2ba986(0x91))[_0x2ba986(0x89)](_0x2ba986(0x8a));return this['fileService'][_0x2ba986(0x9b)]({'filename':_0x5b7bed,'buffer':_0x29bdf5['buffer'],..._0x276407});}async[_0x2cc297(0x8c)](_0x24b995,_0x2684fd,_0x444a19){const _0x22a74a=_0x2cc297;return this[_0x22a74a(0x76)][_0x22a74a(0x97)](_0x24b995,_0x2684fd,_0x444a19);}async['getModalImgById'](_0x412215){const _0x493cf9=_0x2cc297;return this[_0x493cf9(0x76)][_0x493cf9(0x8e)](_0x412215);}};__decorate([(0x0,common_1[_0x2cc297(0xa7)])(_0x2cc297(0x8f)),(0x0,swagger_1['ApiOperation'])({'summary':_0x2cc297(0x7f)}),(0x0,common_1[_0x2cc297(0x9f)])((0x0,platform_express_1[_0x2cc297(0x7e)])(_0x2cc297(0x7a),{'preservePath':!![],'limits':{'fileSize':0x200*0x400*0x400}})),__param(0x0,(0x0,common_1[_0x2cc297(0x73)])()),__param(0x1,(0x0,common_1[_0x2cc297(0xa9)])()),__metadata(_0x2cc297(0x78),Function),__metadata('design:paramtypes',[uploder_dto_1[_0x2cc297(0xa0)],Object]),__metadata(_0x2cc297(0x77),Promise)],FileController[_0x2cc297(0x85)],_0x2cc297(0x83),null),__decorate([(0x0,common_1[_0x2cc297(0xa7)])(_0x2cc297(0x9b)),(0x0,swagger_1[_0x2cc297(0x84)])({'summary':_0x2cc297(0x86)}),(0x0,common_1[_0x2cc297(0x9f)])((0x0,platform_express_1[_0x2cc297(0x7e)])(_0x2cc297(0x7a),{'preservePath':!![],'limits':{'fileSize':0x200*0x400*0x400}})),__param(0x0,(0x0,common_1[_0x2cc297(0x73)])()),__param(0x1,(0x0,common_1[_0x2cc297(0xa9)])()),__metadata(_0x2cc297(0x78),Function),__metadata(_0x2cc297(0x74),[uploder_dto_1[_0x2cc297(0xa0)],Object]),__metadata(_0x2cc297(0x77),Promise)],FileController[_0x2cc297(0x85)],_0x2cc297(0x9b),null),__decorate([(0x0,common_1[_0x2cc297(0x93)])('down'),(0x0,swagger_1[_0x2cc297(0x84)])({'summary':'通过url下载文件，解决跨域问题'}),__param(0x0,(0x0,common_1[_0x2cc297(0x9e)])('url')),__param(0x1,(0x0,common_1[_0x2cc297(0xa2)])()),__param(0x2,(0x0,common_1[_0x2cc297(0x95)])()),__metadata('design:type',Function),__metadata(_0x2cc297(0x74),[String,Object,Object]),__metadata(_0x2cc297(0x77),Promise)],FileController[_0x2cc297(0x85)],_0x2cc297(0x8c),null),__decorate([(0x0,common_1[_0x2cc297(0x93)])(_0x2cc297(0x8e)),(0x0,swagger_1[_0x2cc297(0x84)])({'summary':_0x2cc297(0xaa)}),(0x0,swagger_1[_0x2cc297(0x99)])(),__param(0x0,(0x0,common_1[_0x2cc297(0xa2)])()),__metadata('design:type',Function),__metadata(_0x2cc297(0x74),[Object]),__metadata('design:returntype',Promise)],FileController[_0x2cc297(0x85)],'getModalImgById',null),FileController=__decorate([(0x0,swagger_1[_0x2cc297(0xa6)])('file'),(0x0,common_1['Controller'])(_0x2cc297(0x7a)),__metadata(_0x2cc297(0x74),[file_service_1['FileService']])],FileController),exports['FileController']=FileController;