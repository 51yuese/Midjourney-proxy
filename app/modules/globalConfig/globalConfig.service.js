'use strict';const _0x582649=_0x55cb;(function(_0x1e6f02,_0x337191){const _0x43569e=_0x55cb,_0x334923=_0x1e6f02();while(!![]){try{const _0x3adf51=parseInt(_0x43569e(0x162))/0x1*(-parseInt(_0x43569e(0x196))/0x2)+parseInt(_0x43569e(0x122))/0x3+parseInt(_0x43569e(0x180))/0x4*(-parseInt(_0x43569e(0x11e))/0x5)+parseInt(_0x43569e(0x14b))/0x6*(-parseInt(_0x43569e(0x15d))/0x7)+parseInt(_0x43569e(0x123))/0x8*(-parseInt(_0x43569e(0xff))/0x9)+parseInt(_0x43569e(0x140))/0xa+parseInt(_0x43569e(0x129))/0xb*(parseInt(_0x43569e(0xfa))/0xc);if(_0x3adf51===_0x337191)break;else _0x334923['push'](_0x334923['shift']());}catch(_0x4c468c){_0x334923['push'](_0x334923['shift']());}}}(_0x4ddf,0x9d5e4));var __decorate=this&&this[_0x582649(0x145)]||function(_0x519ce5,_0x1ddb76,_0x1a6d29,_0x5605d3){const _0x145f23=_0x582649;var _0x4ce41c=arguments[_0x145f23(0xfc)],_0xaefe3e=_0x4ce41c<0x3?_0x1ddb76:_0x5605d3===null?_0x5605d3=Object[_0x145f23(0x104)](_0x1ddb76,_0x1a6d29):_0x5605d3,_0x1326d9;if(typeof Reflect==='object'&&typeof Reflect[_0x145f23(0x13f)]===_0x145f23(0x159))_0xaefe3e=Reflect[_0x145f23(0x13f)](_0x519ce5,_0x1ddb76,_0x1a6d29,_0x5605d3);else{for(var _0x29c654=_0x519ce5[_0x145f23(0xfc)]-0x1;_0x29c654>=0x0;_0x29c654--)if(_0x1326d9=_0x519ce5[_0x29c654])_0xaefe3e=(_0x4ce41c<0x3?_0x1326d9(_0xaefe3e):_0x4ce41c>0x3?_0x1326d9(_0x1ddb76,_0x1a6d29,_0xaefe3e):_0x1326d9(_0x1ddb76,_0x1a6d29))||_0xaefe3e;}return _0x4ce41c>0x3&&_0xaefe3e&&Object[_0x145f23(0x10a)](_0x1ddb76,_0x1a6d29,_0xaefe3e),_0xaefe3e;},__metadata=this&&this['__metadata']||function(_0x3c3c96,_0x2d42c4){const _0x240fc1=_0x582649;if(typeof Reflect==='object'&&typeof Reflect[_0x240fc1(0x10e)]===_0x240fc1(0x159))return Reflect['metadata'](_0x3c3c96,_0x2d42c4);},__param=this&&this['__param']||function(_0x26c8f7,_0x384874){return function(_0x3e6aab,_0x2ee45f){_0x384874(_0x3e6aab,_0x2ee45f,_0x26c8f7);};};function _0x4ddf(){const _0xd5e629=['nestjs-cls','@nestjs/cli/actions','vipLeavelRelEntity','获取微信access_token失败、错误信息：','defineProperty','saas.qumao518.vip','baiduTextStatus','nineaiBuiltInSensitiveAuthKey','metadata','design:paramtypes','https://gomaxai.qumao518.vip/api/official/getAccessToken?type=official','configEntity','default','robotAvatar','application/json','code','find','registerBaseUrl','update','NAMESPACE','log','payWechatStatus','CZConfig','initBaiduSensitive','5bwXHtQ','wechatAccessTokenMap','ConfigEntity','concat','679368OSvZOK','32EGSXtB','pushLog','./constant','saas\x20','check','../../common/utils','34278728AcBGmU','wechatAccessToken-','forEach','&client_secret=','robotAvatar2Base64','nineaiBuiltInSensitiveApiBase','ClsService','error','aliPhoneSignName','wechat\x20get\x20access_token\x20done','HttpStatus','PORT','qqNumber','../../common/store','errmsg','save','ticket','response','MjConfig','&type=jsapi','getPhoneVerifyConfig','configVal','decorate','3103240aMAGCg','checkAiAuth','data','bkYMP1mVCBurarEsc48hu4lD0nfoPfj1FccGPRuygRtgPnbJWkkvJGU6zhr/otMF6E7iBQk6kY90kyEI47sVTA==','axios','__decorate','手机验证码功能暂未开放!','百度敏感词初始化失败，如果需要敏感检测、请前往后台系统配置!','InjectRepository','env','UNAUTHORIZED','373476wDnvDn','get','wechatJsapiTicket-','ceshi.qumao518.vip','Jo11+muNwqhwlG7g1MeeGzh3NJ4nu4zHbOVgh/hIo0ZDV7rlji6LO/S+cD95Ru8Q','setConfig','saasId','BAD_GATEWAY','includes','POST','nineai','kaifa.qumao518.vip','warn','GOMAXAI','function','stringify','decrypt','SelfKeys','133tHvJmK','getSensitiveConfig','configKey','saveVipLeavelRel','JPFq8fAlQE2V2Eq7KWYSxg==','628151LWxaap','未配置\x20robotAvatar.','keys','&grant_type=client_credentials','phoneRegisterStatus','mpay','payHupiStatus','nineaiBuiltInSensitiveStatus','arraybuffer','exit','Injectable','getVipLeavelRelById','baiduTextAccessToken-0','post','getWechatAccessToken','queryPayType','data:image/jpeg;base64,','catch','WechatConfig','aliPhoneAccessKeyId','siteName','signInStatus','signInRewards','签到功能暂未开放!','GlobalConfigService','APP_VERSION','then','./config.entity','设置完成！','wechatOfficialAppSecret','3366988tdYPxy','cls','getConfigByKeys','aliPhoneTemplateCode','base64','relateId','HttpException','onModuleInit','access_token','checkDomain','vxNumber','Logger','百度敏感词配置检测失败，您的参数可能配置的不正确!','\x20微信配置缺失，不可使用微信登录！','queryFrontConfig','../../config/AppConfig','./vip_leavel_rel.entity','refresh','getConfigs4Front','baiduTextApiKey','Repository','wechatOfficialAppId','2lJhuOx','https://aip.baidubce.com/oauth/2.0/token?client_id=','set','getSignatureGiftConfig','__esModule','设置配置信息错误！','baiduTextAccessToken','baiduTextSecretKey','BAD_REQUEST','https://api.weixin.qq.com/cgi-bin/ticket/getticket?access_token=','FrontKeys','Jo11+muNwqhwlG7g1MeeGzh3NJ4nu4zHbOVgh/hIo0bno5L8H6T5QXXNUvLB6d1U','TRUE','12RYrEze','wechatJsapiTicketMap','length','9kxwFUQptTaelrKStrwZQQ==','typeorm','800721PcJWCB','nL4r+L6Sw+2mmD2RZp+C/xu3iXKHIx2CviCHXOzVFdwiUmnj4GGdzXhU1D0zpcN5','findOne','fetchBaseAccessToken','SAAS','getOwnPropertyDescriptor','&secret='];_0x4ddf=function(){return _0xd5e629;};return _0x4ddf();}Object[_0x582649(0x10a)](exports,_0x582649(0x19a),{'value':!![]}),exports[_0x582649(0x17a)]=void 0x0;function _0x55cb(_0x3f0c17,_0x4d57ce){const _0x4ddf6e=_0x4ddf();return _0x55cb=function(_0x55cb9c,_0x647b51){_0x55cb9c=_0x55cb9c-0xf7;let _0x262d8a=_0x4ddf6e[_0x55cb9c];return _0x262d8a;},_0x55cb(_0x3f0c17,_0x4d57ce);}const common_1=require('@nestjs/common'),config_entity_1=require(_0x582649(0x17d)),typeorm_1=require('@nestjs/typeorm'),typeorm_2=require(_0x582649(0xfe)),utils_1=require(_0x582649(0x128)),axios_1=require(_0x582649(0x144)),actions_1=require(_0x582649(0x107)),store_1=require(_0x582649(0x136)),store_2=require(_0x582649(0x136)),AppConfig_1=require(_0x582649(0x18f)),vip_leavel_rel_entity_1=require(_0x582649(0x190)),nestjs_cls_1=require(_0x582649(0x106)),constant_1=require(_0x582649(0x125)),authCheckUrl=(0x0,utils_1[_0x582649(0x15b)])(_0x582649(0x14f)),authLogUrl=(0x0,utils_1[_0x582649(0x15b)])(_0x582649(0xf8));let GlobalConfigService=class GlobalConfigService{constructor(_0x3ccc79,_0x3de084,_0x2b871a){const _0x1eed7b=_0x582649;this[_0x1eed7b(0x111)]=_0x3ccc79,this[_0x1eed7b(0x108)]=_0x3de084,this[_0x1eed7b(0x181)]=_0x2b871a,this[_0x1eed7b(0x11f)]=new Map(),this[_0x1eed7b(0xfb)]=new Map();}async[_0x582649(0x187)](){const _0x243751=_0x582649;await this['checkAiAuth'](),await this[_0x243751(0x124)](),await this[_0x243751(0x11d)](),await this[_0x243751(0x170)](!![]);const _0x41d88f=[][_0x243751(0x121)](store_1[_0x243751(0x13b)][_0x243751(0x164)],store_1['CZConfig']['keys'],store_2[_0x243751(0x174)][_0x243751(0x164)]),_0x156b84=await this[_0x243751(0x182)](_0x41d88f);store_1[_0x243751(0x13b)][_0x243751(0x191)](_0x156b84),store_1['CZConfig'][_0x243751(0x191)](_0x156b84),store_2[_0x243751(0x174)][_0x243751(0x191)](_0x156b84);}async[_0x582649(0x141)](){const _0x371c09=_0x582649,_0x5772c8=process[_0x371c09(0x149)][(0x0,utils_1[_0x371c09(0x15b)])(_0x371c09(0x161))],_0x3555cc=process[_0x371c09(0x149)][(0x0,utils_1[_0x371c09(0x15b)])(_0x371c09(0xfd))];(!_0x3555cc||!_0x5772c8)&&(common_1[_0x371c09(0x18b)][_0x371c09(0x130)]((0x0,utils_1['decrypt'])(_0x371c09(0x100))),(0x0,actions_1[_0x371c09(0x16b)])());const _0x438ef9={'authDomain':_0x5772c8,'authKey':_0x3555cc},_0x5db7c6={'method':'POST','headers':{'Content-Type':_0x371c09(0x114)},'body':JSON[_0x371c09(0x15a)](_0x438ef9)},_0x263802=await fetch(authCheckUrl,_0x5db7c6)[_0x371c09(0x17c)](_0x2010d8=>{return _0x2010d8['json']();})[_0x371c09(0x173)](_0x1055fb=>{common_1['Logger']['error'](_0x1055fb,'global');});_0x263802[_0x371c09(0x115)]!==0x0&&(common_1['Logger'][_0x371c09(0x130)]((0x0,utils_1[_0x371c09(0x15b)])(_0x371c09(0x143))),(0x0,actions_1['exit'])()),_0x263802?.[_0x371c09(0x115)]===0x0&&!_0x263802?.[_0x371c09(0x142)]?.[_0x371c09(0x127)]&&(common_1[_0x371c09(0x18b)]['error']((0x0,utils_1[_0x371c09(0x15b)])(_0x371c09(0x100))),(0x0,actions_1[_0x371c09(0x16b)])());}async['pushLog'](_0x26d2bf,_0x2bfbec){const _0x1362d3=_0x582649,_0x4ccb13=process[_0x1362d3(0x149)][(0x0,utils_1[_0x1362d3(0x15b)])(_0x1362d3(0x161))],_0x10eff0=process[_0x1362d3(0x149)][(0x0,utils_1[_0x1362d3(0x15b)])(_0x1362d3(0xfd))],_0x291c40=process[_0x1362d3(0x149)][_0x1362d3(0x134)];if(!_0x4ccb13||!_0x10eff0)throw new common_1['HttpException']((0x0,utils_1[_0x1362d3(0x15b)])(_0x1362d3(0x100)),common_1[_0x1362d3(0x133)][_0x1362d3(0x14a)]);const {qqNumber:_0x45ed2d,vxNumber:_0x3c49ec,siteName:_0x8ec670,domain:_0x3de2c9,registerBaseUrl:_0x45cc9c}=await this[_0x1362d3(0x182)]([_0x1362d3(0x135),_0x1362d3(0x18a),'siteName','domain',_0x1362d3(0x117)]),_0x4b247f={'ip':_0x4ccb13,'key':_0x10eff0,'port':_0x291c40,'qqNumber':_0x45ed2d,'vxNumber':_0x3c49ec,'domain':_0x3de2c9,'adminAccount':_0x26d2bf,'adminPass':_0x2bfbec,'baseUrl':_0x45cc9c,'siteName':_0x8ec670,'qq':_0x45ed2d,'vxNum':_0x3c49ec,'version':AppConfig_1[_0x1362d3(0x17b)]},_0x8e7e9b={'method':_0x1362d3(0x154),'headers':{'Content-Type':'application/json'},'body':JSON[_0x1362d3(0x15a)](_0x4b247f)};await fetch(authLogUrl,_0x8e7e9b)[_0x1362d3(0x173)](_0x388198=>{const _0x2fc0d3=_0x1362d3;console[_0x2fc0d3(0x11a)]('push\x20log\x20error',_0x388198);});}async['initBaiduSensitive'](_0x337023=!![]){const _0x3286ab=_0x582649,{baiduTextApiKey:_0x4a67c9,baiduTextSecretKey:_0x2d5e2c}=await this[_0x3286ab(0x182)]([_0x3286ab(0x193),_0x3286ab(0x19d)]);if(!_0x4a67c9||!_0x2d5e2c){common_1[_0x3286ab(0x18b)]['error'](_0x3286ab(0x147),_0x3286ab(0x17a));return;}const _0x3abda1={'Content-Type':'application/json','Accept':_0x3286ab(0x114)},_0x4faaa9=_0x3286ab(0x197)+_0x4a67c9+_0x3286ab(0x12c)+_0x2d5e2c+_0x3286ab(0x165);try{const _0x41da62=await axios_1[_0x3286ab(0x112)][_0x3286ab(0x16f)](_0x4faaa9,{'headers':_0x3abda1});this['baiduTextAccessToken']=_0x41da62['data'][_0x3286ab(0x188)];}catch(_0x27f092){if(_0x337023)common_1[_0x3286ab(0x18b)]['error'](_0x3286ab(0x18c),_0x3286ab(0x17a));else throw new common_1[(_0x3286ab(0x186))](_0x27f092[_0x3286ab(0x13a)][_0x3286ab(0x142)]['error_description'],common_1['HttpStatus']['BAD_REQUEST']);}}async['getWechatAccessToken'](_0x43bb4b=![]){const _0x433099=_0x582649,_0x3be4f1=new Map(),_0x1f03f8=await this[_0x433099(0x111)][_0x433099(0x116)]({'where':{'configKey':(0x0,typeorm_2['In'])([_0x433099(0x195),_0x433099(0x17f)])}});_0x1f03f8[_0x433099(0x12b)](_0x14264e=>{const _0x4728c7=_0x433099;!_0x3be4f1['has'](_0x14264e[_0x4728c7(0x151)])&&_0x3be4f1[_0x4728c7(0x198)](_0x14264e[_0x4728c7(0x151)],{}),_0x3be4f1[_0x4728c7(0x14c)](_0x14264e[_0x4728c7(0x151)])[_0x14264e[_0x4728c7(0x15f)]]=_0x14264e[_0x4728c7(0x13e)];}),_0x3be4f1[_0x433099(0x12b)]((_0x371daa,_0x54f708)=>{const _0x35321f=_0x433099;!_0x371daa[_0x35321f(0x195)]||!_0x371daa[_0x35321f(0x17f)]?common_1[_0x35321f(0x18b)][_0x35321f(0x157)](_0x35321f(0x126)+_0x54f708+_0x35321f(0x18d),_0x35321f(0x170)):this[_0x35321f(0x102)](_0x54f708,_0x371daa['wechatOfficialAppId'],_0x371daa[_0x35321f(0x17f)],_0x43bb4b);}),common_1[_0x433099(0x18b)][_0x433099(0x11a)](_0x433099(0x132),'OfficialService');}async[_0x582649(0x102)](_0x202010,_0xef981c,_0x5c4f13,_0x5ef9fe=![]){const _0x6b685d=_0x582649;if(process[_0x6b685d(0x149)]['ISDEV']===_0x6b685d(0xf9))return;try{let _0x139e99='';const _0x5d078e=process[_0x6b685d(0x149)]['GOMAXAI_HOST'];if(_0x5d078e===_0x6b685d(0x156)||_0x5d078e===_0x6b685d(0x14e)||_0x5d078e===_0x6b685d(0x10b)){const _0x1a7e71=await axios_1['default']['get'](_0x6b685d(0x110));_0x139e99=_0x1a7e71[_0x6b685d(0x142)]['data'];}else{const _0x45d557=await axios_1[_0x6b685d(0x112)]['get']('https://api.weixin.qq.com/cgi-bin/token?grant_type=client_credential&appid='+_0xef981c+_0x6b685d(0x105)+_0x5c4f13);if(_0x45d557[_0x6b685d(0x142)][_0x6b685d(0x137)])throw new Error(_0x6b685d(0x109)+_0x45d557[_0x6b685d(0x142)][_0x6b685d(0x137)]);_0x139e99=_0x45d557[_0x6b685d(0x142)][_0x6b685d(0x188)];}this[_0x6b685d(0x11f)][_0x6b685d(0x198)](_0x202010,_0x139e99);const _0x598b7c=await axios_1['default'][_0x6b685d(0x14c)](_0x6b685d(0x19f)+_0x139e99+_0x6b685d(0x13c));this[_0x6b685d(0xfb)][_0x6b685d(0x198)](_0x202010,_0x598b7c?.[_0x6b685d(0x142)]?.[_0x6b685d(0x139)]);}catch(_0x4194e3){common_1[_0x6b685d(0x18b)][_0x6b685d(0x130)](_0x4194e3['message'],_0x6b685d(0x102));}}async[_0x582649(0x189)](_0x319969){const _0x16a4b1=_0x582649;if(process[_0x16a4b1(0x149)][_0x16a4b1(0x103)])return!![];const {domain:_0x564da6}=_0x319969,_0x3a6b49=process[_0x16a4b1(0x149)][(0x0,utils_1[_0x16a4b1(0x15b)])(_0x16a4b1(0x161))];return _0x564da6[_0x16a4b1(0x153)](_0x3a6b49);}async['createOrUpdate'](_0x201de9){const _0x47d0a1=_0x582649;try{const _0x4ef0c8=this[_0x47d0a1(0x181)][_0x47d0a1(0x14c)](_0x47d0a1(0x151)),{configKey:_0x23e82d,configVal:_0x281928,status:status=0x1}=_0x201de9,_0x3ccb1c=await this['configEntity']['findOne']({'where':{'configKey':_0x23e82d,'saasId':_0x4ef0c8}});_0x3ccb1c?await this['configEntity'][_0x47d0a1(0x118)]({'configKey':_0x23e82d,'saasId':_0x4ef0c8},{'configVal':_0x281928,'status':status}):await this[_0x47d0a1(0x111)]['save']({'configKey':_0x23e82d,'configVal':_0x281928,'status':status,'saasId':_0x4ef0c8});}catch(_0x419ead){throw new common_1[(_0x47d0a1(0x186))](_0x47d0a1(0x19b),common_1[_0x47d0a1(0x133)][_0x47d0a1(0x19e)]);}}async[_0x582649(0x150)](_0x53d509){const _0x3353a3=_0x582649;let _0x1a65aa=![],_0x1f2839=![],_0x15b7d3=![],_0x25a5cd=![],_0x2fc327=![],_0x5eacbd=![];const _0x2078b7={},{settings:_0x19e70e}=_0x53d509;for(const _0x1e827b of _0x19e70e){await this['createOrUpdate'](_0x1e827b),_0x2078b7[_0x1e827b[_0x3353a3(0x15f)]]=_0x1e827b[_0x3353a3(0x13e)],store_1[_0x3353a3(0x13b)][_0x1e827b[_0x3353a3(0x15f)]]&&(_0x1a65aa=!![]),store_1[_0x3353a3(0x11c)][_0x1e827b[_0x3353a3(0x15f)]]&&(_0x1f2839=!![]),store_2[_0x3353a3(0x174)][_0x1e827b['configKey']]&&(_0x15b7d3=!![]),['baiduTextApiKey',_0x3353a3(0x19d)][_0x3353a3(0x153)](_0x1e827b['configKey'])&&(_0x25a5cd=!![]),[_0x3353a3(0x195),_0x3353a3(0x17f)][_0x3353a3(0x153)](_0x1e827b[_0x3353a3(0x15f)])&&(_0x2fc327=!![]),[_0x3353a3(0x135),_0x3353a3(0x18a),_0x3353a3(0x176),'domain',_0x3353a3(0x117)][_0x3353a3(0x153)](_0x1e827b[_0x3353a3(0x15f)])&&(_0x5eacbd=!![]);}return _0x1a65aa&&store_1[_0x3353a3(0x13b)][_0x3353a3(0x191)](_0x2078b7),_0x1f2839&&store_1[_0x3353a3(0x11c)]['refresh'](_0x2078b7),_0x15b7d3&&store_2[_0x3353a3(0x174)][_0x3353a3(0x191)](_0x2078b7),_0x25a5cd&&await this[_0x3353a3(0x11d)](![]),_0x2fc327&&await this['getWechatAccessToken'](),_0x5eacbd&&this[_0x3353a3(0x124)](),_0x3353a3(0x17e);}async[_0x582649(0x192)](_0x25fa9a){const _0x25252c=_0x582649,_0x52967f=await this[_0x25252c(0x182)](_0x25fa9a,!![]);return _0x25fa9a['length']===0x1?_0x52967f[_0x25fa9a[0x0]]:_0x52967f;}async[_0x582649(0x182)](_0x172d99,_0x574f3d=![]){const _0x467dbd=_0x582649;if(!_0x172d99[_0x467dbd(0xfc)])throw new Error('查询配置不能为空！');const _0x4efb59=this[_0x467dbd(0x181)][_0x467dbd(0x14c)](_0x467dbd(0x151))||0x0,_0x21103e=new Map(),_0x2113c0=await this[_0x467dbd(0x111)][_0x467dbd(0x116)]({'where':{'configKey':(0x0,typeorm_2['In'])(_0x172d99),'saasId':(0x0,typeorm_2['In'])([0x0,_0x4efb59])}});_0x2113c0['forEach'](_0x373d52=>{const _0x4d78a7=_0x467dbd,{configKey:_0x23dea7,configVal:_0x41a413,saasId:_0xb6f125}=_0x373d52;_0x21103e[_0x4d78a7(0x198)](_0x23dea7+'-'+_0xb6f125,_0x41a413);}),this[_0x467dbd(0x11f)][_0x467dbd(0x12b)]((_0x348f1e,_0xd690f7)=>{const _0x4bcee3=_0x467dbd;_0x21103e[_0x4bcee3(0x198)](_0x4bcee3(0x12a)+_0xd690f7,_0x348f1e);}),this['wechatJsapiTicketMap'][_0x467dbd(0x12b)]((_0x14a1fa,_0x1133ab)=>{const _0x28c9d2=_0x467dbd;_0x21103e[_0x28c9d2(0x198)](_0x28c9d2(0x14d)+_0x1133ab,_0x14a1fa);}),_0x21103e[_0x467dbd(0x198)](_0x467dbd(0x16e),this[_0x467dbd(0x19c)]);const _0x30349={};_0x172d99['forEach'](_0x1fa1ab=>{const _0x520b6d=_0x467dbd;let _0x531ddc=_0x1fa1ab+'-'+_0x4efb59,_0x179ce4='';_0x21103e['has'](_0x531ddc)?_0x179ce4=_0x21103e[_0x520b6d(0x14c)](_0x531ddc):!constant_1[_0x520b6d(0x15c)]['includes'](_0x1fa1ab)&&(_0x179ce4=_0x21103e['get'](_0x1fa1ab+'-'+0x0)),_0x30349[_0x1fa1ab]=_0x179ce4;});if(_0x574f3d)return _0x30349;return _0x172d99[_0x467dbd(0xfc)]===0x1?_0x30349[_0x172d99[0x0]]:_0x30349;}async[_0x582649(0x18e)](){const _0x42a15a=_0x582649,_0x5b8953=await this[_0x42a15a(0x182)](constant_1[_0x42a15a(0xf7)]);return{..._0x5b8953,'isUseWxLogin':!!(_0x5b8953[_0x42a15a(0x195)]&&_0x5b8953[_0x42a15a(0x17f)])};}async[_0x582649(0x171)](_0x2dbf81='wechat'){const _0x37496e=_0x582649,{payHupiStatus:payHupiStatus=0x0,payEpayStatus:payEpayStatus=0x0,payWechatStatus:payWechatStatus=0x0,payMpayStatus:payMpayStatus=0x0}=await this['getConfigByKeys']([_0x37496e(0x168),'payEpayStatus','payMpayStatus',_0x37496e(0x11b)]);if([payHupiStatus,payEpayStatus,payWechatStatus,payMpayStatus]['every'](_0x52e57a=>_0x52e57a===0x0))throw new common_1[(_0x37496e(0x186))]('支付功能暂未开放!',common_1['HttpStatus']['BAD_REQUEST']);if(Number(payWechatStatus)===0x1)return _0x2dbf81;if(Number(payEpayStatus)===0x1)return'epay';if(Number(payMpayStatus)===0x1)return _0x37496e(0x167);if(Number(payHupiStatus)===0x1)return'hupi';}async[_0x582649(0x13d)](){const _0x39ae27=_0x582649,{phoneRegisterStatus:_0x14b29c,aliPhoneAccessKeyId:_0x106627,aliPhoneAccessKeySecret:_0x3608db,aliPhoneSignName:_0x583158,aliPhoneTemplateCode:_0x1e70b1}=await this['getConfigByKeys']([_0x39ae27(0x166),_0x39ae27(0x175),'aliPhoneAccessKeySecret',_0x39ae27(0x131),_0x39ae27(0x183)]);if(Number(_0x14b29c)!==0x1)throw new common_1[(_0x39ae27(0x186))](_0x39ae27(0x146),common_1[_0x39ae27(0x133)][_0x39ae27(0x19e)]);return{'accessKeyId':_0x106627,'accessKeySecret':_0x3608db,'SignName':_0x583158,'TemplateCode':_0x1e70b1};}['getNamespace'](){const _0x14ddef=_0x582649;return process[_0x14ddef(0x149)][_0x14ddef(0x119)]||_0x14ddef(0x158);}async[_0x582649(0x199)](){const _0x1340d4=_0x582649,_0xe11678=await this[_0x1340d4(0x182)]([_0x1340d4(0x177),_0x1340d4(0x178)]),_0x350021={};for(let _0x3eefec in _0xe11678){const _0xac8ea3=Number(_0xe11678[_0x3eefec]);_0x350021[_0x3eefec]=isNaN(_0xac8ea3)?0x0:_0xac8ea3;}if(!_0x350021[_0x1340d4(0x177)])throw new common_1[(_0x1340d4(0x186))](_0x1340d4(0x179),common_1[_0x1340d4(0x133)][_0x1340d4(0x19e)]);return _0x350021[_0x1340d4(0x178)];}async[_0x582649(0x15e)](){const _0x421758=_0x582649,{baiduTextStatus:baiduTextStatus=0x0,baiduTextAccessToken:_0x3a88b5,nineaiBuiltInSensitiveStatus:nineaiBuiltInSensitiveStatus=0x0,nineaiBuiltInSensitiveApiBase:_0x432a0,nineaiBuiltInSensitiveAuthKey:_0x2bb18e}=await this[_0x421758(0x182)]([_0x421758(0x10c),_0x421758(0x19c),_0x421758(0x169),_0x421758(0x12e),_0x421758(0x10d)]);if(Number(baiduTextStatus)===0x1)return{'useType':'baidu','baiduTextAccessToken':_0x3a88b5};if(Number(nineaiBuiltInSensitiveStatus)===0x1)return{'useType':_0x421758(0x155),'nineaiBuiltInSensitiveApiBase':_0x432a0,'nineaiBuiltInSensitiveAuthKey':_0x2bb18e};return null;}async[_0x582649(0x12d)](){const _0x4addef=_0x582649,_0x2cbc35=await this['getConfigByKeys']([_0x4addef(0x113)]);if(!_0x2cbc35)throw new common_1[(_0x4addef(0x186))](_0x4addef(0x163),common_1[_0x4addef(0x133)][_0x4addef(0x152)]);const _0x473f66=await axios_1['default'][_0x4addef(0x14c)](_0x2cbc35,{'responseType':_0x4addef(0x16a)}),_0x273219=Buffer['from'](_0x473f66[_0x4addef(0x142)])['toString'](_0x4addef(0x184));return _0x4addef(0x172)+_0x273219;}async[_0x582649(0x160)](_0x411ecf){const _0x58a4cb=_0x582649;await this[_0x58a4cb(0x108)][_0x58a4cb(0x138)](_0x411ecf);}async[_0x582649(0x16d)](_0x9bd32f,_0x340485,_0x1d6d24){const _0x1e3f8f=_0x582649,_0x3701b1={'vipLeavelId':_0x9bd32f,'relateType':_0x340485};_0x1d6d24&&(_0x3701b1[_0x1e3f8f(0x185)]=_0x1d6d24);const _0xa82753=await this['vipLeavelRelEntity'][_0x1e3f8f(0x101)]({'where':_0x3701b1});return _0xa82753;}};GlobalConfigService=__decorate([(0x0,common_1[_0x582649(0x16c)])(),__param(0x0,(0x0,typeorm_1[_0x582649(0x148)])(config_entity_1[_0x582649(0x120)])),__param(0x1,(0x0,typeorm_1[_0x582649(0x148)])(vip_leavel_rel_entity_1['VipLeavelRelEntity'])),__metadata(_0x582649(0x10f),[typeorm_2[_0x582649(0x194)],typeorm_2['Repository'],nestjs_cls_1[_0x582649(0x12f)]])],GlobalConfigService),exports[_0x582649(0x17a)]=GlobalConfigService;