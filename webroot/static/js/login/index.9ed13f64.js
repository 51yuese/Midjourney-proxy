import{f as a,y as e,W as s,r as l,H as t,A as o,B as i,C as n,D as r,O as u,P as c,L as v,X as p,T as d,E as m,F as g,G as y,V as f,_ as x}from"../main-e6771d5b.js";import{_ as k}from"../buy/buy.265b8d04.js";import{m as w}from"../marked.esm/marked.esm.cb1ff4ec.js";const B=a=>(g("data-v-c725e3da"),a=a(),y(),a),h={class:"loginBox"},I={class:"login"},b={class:"left"},C={class:"title"},_=B((()=>n("p",{style:{"margin-left":"4px"}},"国内版登录",-1))),F=B((()=>n("div",{class:"intro"}," （本系统为官方数据中转，所有数据均中转自我方付费购买的正版Midjourney账号. 智能扩展，局部重绘等所有官方最新功能均支持） ",-1))),N={class:"form"},O={class:"inpBox"},S=B((()=>n("img",{src:"/static/svg/userName-e4960aa6.svg",alt:""},null,-1))),T={class:"inpBox"},j=B((()=>n("img",{src:"/static/svg/password1-31e29f12.svg",alt:""},null,-1))),z={class:"moreOperation"},D={class:"rememberMe"},E=B((()=>n("p",null,"记住我",-1))),L={class:"right"},M={class:"codeBox"},P=["src"],U=["innerHTML"],V=B((()=>n("div",{style:{"font-size":"15px",color:"#EDEEF0","margin-top":"16px"}},"如果到期可以点击续费",-1))),H=B((()=>n("div",{class:"buy"},[n("p",{style:{"margin-right":"3px"}},"购买/续费"),n("img",{src:k,alt:""})],-1))),J=x(a({__name:"index",setup(a){w.setOptions({pedantic:!0,gfm:!0,breaks:!1,sanitize:!1,smartLists:!0,smartypants:!1,xhtml:!1});const g=e(),y=s(),x=l({username:"",password:""}),k=l(!1);function B(){k.value=!k.value}const J=l(),A=l();t((()=>{o({keys:["noticeInfo","siteName"]}).then((a=>{J.value=w(a.data.noticeInfo),A.value=a.data.siteName})),localStorage.getItem("userForm")&&(x.value=JSON.parse(localStorage.getItem("userForm")),k.value=!0)}));const G=l(""),W=async()=>{G.value=await(async()=>await f({keys:["wechatImage"]}).then((a=>a.data)))()};t((()=>{W()}));const X=l(!1),q=l(!1),K=l(!1);function Q(a){if(0==a){if(x.value.username)return;q.value=!0}else if(1==a){if(x.value.password)return;K.value=!0}}function R(a){0==a?x.value.username?q.value=!1:q.value=!0:1==a&&(x.value.password?K.value=!1:K.value=!0)}function Y(){x.value.username?x.value.password?p(x.value).then((a=>{200==a.code&&(y.success("登录成功"),k.value&&localStorage.setItem("userForm",JSON.stringify(x.value)),g.setToken(a.data),g.getUserInfo(),setTimeout((()=>{d.push({path:"/homePage",replace:!0})}),1e3))})).catch((a=>{x.value.password="",y.error(a.message)})):K.value=!0:q.value=!0}return(a,e)=>(m(),i("div",h,[n("div",I,[n("div",b,[n("div",C,[n("p",null,r(A.value),1),_]),F,n("div",N,[n("div",O,[S,u(n("input",{onInput:e[0]||(e[0]=a=>R(0)),onBlur:e[1]||(e[1]=a=>Q(0)),"onUpdate:modelValue":e[2]||(e[2]=a=>x.value.username=a),type:"text",placeholder:"请输入用户名"},null,544),[[c,x.value.username]]),n("p",{style:v([{position:"absolute",top:"47px",left:"20px","font-size":"12px",color:"#DB7B7B",transition:"all .5s"},q.value?"opacity:1":"opacity:0"])},"请输入用户名",4)]),n("div",T,[j,X.value?u((m(),i("input",{key:1,onInput:e[6]||(e[6]=a=>R(1)),onBlur:e[7]||(e[7]=a=>Q(1)),"onUpdate:modelValue":e[8]||(e[8]=a=>x.value.password=a),type:"text",placeholder:"请输入密码"},null,544)),[[c,x.value.password]]):u((m(),i("input",{key:0,onInput:e[3]||(e[3]=a=>R(1)),onBlur:e[4]||(e[4]=a=>Q(1)),"onUpdate:modelValue":e[5]||(e[5]=a=>x.value.password=a),type:"password",placeholder:"请输入密码"},null,544)),[[c,x.value.password]]),n("p",{style:v([{position:"absolute",top:"47px",left:"20px","font-size":"12px",color:"#DB7B7B",transition:"all .5s"},K.value?"opacity:1":"opacity:0"])},"请输入密码",4),X.value?(m(),i("img",{key:3,style:{cursor:"pointer"},src:"/static/svg/openPassword2-60b98266.svg",alt:"",onClick:e[10]||(e[10]=a=>X.value=!X.value)})):(m(),i("img",{key:2,style:{cursor:"pointer"},src:"/static/svg/closePassword1-105ab386.svg",alt:"",onClick:e[9]||(e[9]=a=>X.value=!X.value)}))]),n("div",z,[n("div",D,[k.value?(m(),i("img",{key:0,onClick:B,src:"/static/svg/select02-8907542a.svg",alt:""})):(m(),i("img",{key:1,onClick:B,src:"/static/svg/select01-33d1622f.svg",alt:""})),E])]),n("div",{class:"loginBtn",onClick:Y},"登录")])]),n("div",L,[n("div",M,[n("img",{src:G.value,alt:""},null,8,P)]),n("div",{class:"text",innerHTML:J.value},null,8,U),V,H])])]))}}),[["__scopeId","data-v-c725e3da"]]);export{J as default};
