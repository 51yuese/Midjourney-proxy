import{f as a,y as e,T as s,r as l,F as t,A as o,B as i,C as n,D as r,L as u,M as c,J as v,U as p,R as d,E as m,S as g,_ as y}from"../main-14ef4af7.js";import{_ as f}from"../buy/buy.265b8d04.js";import{m as x}from"../marked.esm/marked.esm.a5919863.js";const k={class:"loginBox"},w={class:"login"},B={class:"left"},h={class:"title"},I={class:"form"},b={class:"inpBox"},C={class:"inpBox"},S={class:"moreOperation"},_={class:"rememberMe"},F={class:"right"},M={class:"codeBox"},N=["src"],T=["innerHTML"],U=y(a({__name:"index",setup(a){x.setOptions({pedantic:!0,gfm:!0,breaks:!1,sanitize:!1,smartLists:!0,smartypants:!1,xhtml:!1});const y=e(),U=s(),j=l({username:"",password:""}),z=l(!1);function D(){z.value=!z.value}const E=l(),L=l();t((()=>{o({keys:["noticeInfo","siteName"]}).then((a=>{E.value=x(a.data.noticeInfo),L.value=a.data.siteName})),localStorage.getItem("userForm")&&(j.value=JSON.parse(localStorage.getItem("userForm")),z.value=!0)}));const O=l(""),J=async()=>{O.value=await(async()=>await g({keys:["wechatImage"]}).then((a=>a.data)))()};t((()=>{J()}));const P=l(!1),V=l(!1),H=l(!1);function A(a){if(0==a){if(j.value.username)return;V.value=!0}else if(1==a){if(j.value.password)return;H.value=!0}}function R(a){0==a?j.value.username?V.value=!1:V.value=!0:1==a&&(j.value.password?H.value=!1:H.value=!0)}function q(){j.value.username?j.value.password?p(j.value).then((a=>{200==a.code&&(U.success("登录成功"),z.value&&localStorage.setItem("userForm",JSON.stringify(j.value)),y.setToken(a.data),y.getUserInfo(),setTimeout((()=>{d.push({path:"/homePage",replace:!0})}),1e3))})).catch((a=>{j.value.password="",U.error(a.message)})):H.value=!0:V.value=!0}return(a,e)=>(m(),i("div",k,[n("div",w,[n("div",B,[n("div",h,[n("p",null,r(L.value),1),e[11]||(e[11]=n("p",{style:{"margin-left":"4px"}},"国内版登录",-1))]),e[15]||(e[15]=n("div",{class:"intro"}," （本系统为官方数据中转，所有数据均中转自我方付费购买的正版Midjourney账号. 智能扩展，局部重绘等所有官方最新功能均支持） ",-1)),n("div",I,[n("div",b,[e[12]||(e[12]=n("img",{src:"/static/svg/userName-e4960aa6.svg",alt:""},null,-1)),u(n("input",{onInput:e[0]||(e[0]=a=>R(0)),onBlur:e[1]||(e[1]=a=>A(0)),"onUpdate:modelValue":e[2]||(e[2]=a=>j.value.username=a),type:"text",placeholder:"请输入用户名"},null,544),[[c,j.value.username]]),n("p",{style:v([{position:"absolute",top:"47px",left:"20px","font-size":"12px",color:"#DB7B7B",transition:"all .5s"},V.value?"opacity:1":"opacity:0"])},"请输入用户名",4)]),n("div",C,[e[13]||(e[13]=n("img",{src:"/static/svg/password1-31e29f12.svg",alt:""},null,-1)),P.value?u((m(),i("input",{key:1,onInput:e[6]||(e[6]=a=>R(1)),onBlur:e[7]||(e[7]=a=>A(1)),"onUpdate:modelValue":e[8]||(e[8]=a=>j.value.password=a),type:"text",placeholder:"请输入密码"},null,544)),[[c,j.value.password]]):u((m(),i("input",{key:0,onInput:e[3]||(e[3]=a=>R(1)),onBlur:e[4]||(e[4]=a=>A(1)),"onUpdate:modelValue":e[5]||(e[5]=a=>j.value.password=a),type:"password",placeholder:"请输入密码"},null,544)),[[c,j.value.password]]),n("p",{style:v([{position:"absolute",top:"47px",left:"20px","font-size":"12px",color:"#DB7B7B",transition:"all .5s"},H.value?"opacity:1":"opacity:0"])},"请输入密码",4),P.value?(m(),i("img",{key:3,style:{cursor:"pointer"},src:"/static/svg/openPassword2-60b98266.svg",alt:"",onClick:e[10]||(e[10]=a=>P.value=!P.value)})):(m(),i("img",{key:2,style:{cursor:"pointer"},src:"/static/svg/closePassword1-105ab386.svg",alt:"",onClick:e[9]||(e[9]=a=>P.value=!P.value)}))]),n("div",S,[n("div",_,[z.value?(m(),i("img",{key:0,onClick:D,src:"/static/svg/select02-8907542a.svg",alt:""})):(m(),i("img",{key:1,onClick:D,src:"/static/svg/select01-33d1622f.svg",alt:""})),e[14]||(e[14]=n("p",null,"记住我",-1))])]),n("div",{class:"loginBtn",onClick:q},"登录")])]),n("div",F,[n("div",M,[n("img",{src:O.value,alt:""},null,8,N)]),n("div",{class:"text",innerHTML:E.value},null,8,T),e[16]||(e[16]=n("div",{style:{"font-size":"15px",color:"#EDEEF0","margin-top":"16px"}},"如果到期可以点击续费",-1)),e[17]||(e[17]=n("div",{class:"buy"},[n("p",{style:{"margin-right":"3px"}},"购买/续费"),n("img",{src:f,alt:""})],-1))])])]))}}),[["__scopeId","data-v-c725e3da"]]);export{U as default};
