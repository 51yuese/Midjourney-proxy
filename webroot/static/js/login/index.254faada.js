import{f as e,y as s,U as a,r as t,z as l,B as n,C as i,D as o,E as u,L as r,M as c,J as p,P as v,V as g,O as d,S as m,F as y,T as f,_ as x}from"../main-e85e4a71.js";import{_ as h}from"../buy/buy.265b8d04.js";import{m as _,_ as w}from"../LangSetting.vue_vue_type_script_setup_true_lang/LangSetting.vue_vue_type_script_setup_true_lang.1e24b288.js";const k={class:"loginBox"},B={class:"login"},b={class:"left"},I={class:"title"},$={style:{"margin-left":"4px"}},S={class:"intro"},L={class:"form"},P={class:"inpBox"},U=["placeholder"],C={class:"inpBox"},T=["placeholder"],z=["placeholder"],F={class:"moreOperation"},N={class:"rememberMe"},O={class:"right"},D={class:"codeBox"},E=["src"],M=["innerHTML"],V={style:{"font-size":"15px",color:"#EDEEF0","margin-top":"16px"}},j={class:"buy"},J={style:{"margin-right":"3px"}},W=x(e({__name:"index",setup(e){_.setOptions({pedantic:!0,gfm:!0,breaks:!1,sanitize:!1,smartLists:!0,smartypants:!1,xhtml:!1});const x=s(),W=a(),H=t({username:"",password:""}),R=t(!1);function q(){R.value=!R.value}const A=t(),G=t();l((()=>{n({keys:["noticeInfo","siteName"]}).then((e=>{A.value=_(e.data.noticeInfo),G.value=e.data.siteName})),localStorage.getItem("userForm")&&(H.value=JSON.parse(localStorage.getItem("userForm")),R.value=!0)}));const K=t(""),Q=async()=>{K.value=await(async()=>await f({keys:["wechatImage"]}).then((e=>e.data)))()};l((()=>{Q()}));const X=t(!1),Y=t(!1),Z=t(!1);function ee(e){if(0==e){if(H.value.username)return;Y.value=!0}else if(1==e){if(H.value.password)return;Z.value=!0}}function se(e){0==e?H.value.username?Y.value=!1:Y.value=!0:1==e&&(H.value.password?Z.value=!1:Z.value=!0)}function ae(){H.value.username?H.value.password?g(H.value).then((e=>{200==e.code&&(W.success(d("setting.loginSuccess")),R.value&&localStorage.setItem("userForm",JSON.stringify(H.value)),x.setToken(e.data),x.getUserInfo(),setTimeout((()=>{m.push({path:"/homePage",replace:!0})}),1e3))})).catch((e=>{H.value.password="",W.error(e.message)})):Z.value=!0:Y.value=!0}return(e,s)=>(y(),i("div",k,[o("div",B,[o("div",b,[o("div",I,[o("p",null,u(G.value),1),o("p",$,u(e.$t("setting.chinaLogin")),1)]),o("div",S,u(e.$t("setting.logintip")),1),o("div",L,[o("div",P,[s[11]||(s[11]=o("img",{src:"/static/svg/userName-6a2b997f.svg",alt:""},null,-1)),r(o("input",{onInput:s[0]||(s[0]=e=>se(0)),onBlur:s[1]||(s[1]=e=>ee(0)),"onUpdate:modelValue":s[2]||(s[2]=e=>H.value.username=e),type:"text",placeholder:e.$t("setting.inputUser")},null,40,U),[[c,H.value.username]]),o("p",{style:p([{position:"absolute",top:"47px",left:"20px","font-size":"12px",color:"#DB7B7B",transition:"all .5s"},Y.value?"opacity:1":"opacity:0"])},u(e.$t("setting.inputUser")),5)]),o("div",C,[s[12]||(s[12]=o("img",{src:"/static/svg/password1-3604e199.svg",alt:""},null,-1)),X.value?r((y(),i("input",{key:1,onInput:s[6]||(s[6]=e=>se(1)),onBlur:s[7]||(s[7]=e=>ee(1)),"onUpdate:modelValue":s[8]||(s[8]=e=>H.value.password=e),type:"text",placeholder:e.$t("setting.inputPassWord")},null,40,z)),[[c,H.value.password]]):r((y(),i("input",{key:0,onInput:s[3]||(s[3]=e=>se(1)),onBlur:s[4]||(s[4]=e=>ee(1)),"onUpdate:modelValue":s[5]||(s[5]=e=>H.value.password=e),type:"password",placeholder:e.$t("setting.inputPassWord")},null,40,T)),[[c,H.value.password]]),o("p",{style:p([{position:"absolute",top:"47px",left:"20px","font-size":"12px",color:"#DB7B7B",transition:"all .5s"},Z.value?"opacity:1":"opacity:0"])},u(e.$t("setting.inputPassWord")),5),X.value?(y(),i("img",{key:3,style:{cursor:"pointer"},src:"/static/svg/openPassword2-60b98266.svg",alt:"",onClick:s[10]||(s[10]=e=>X.value=!X.value)})):(y(),i("img",{key:2,style:{cursor:"pointer"},src:"/static/svg/closePassword1-105ab386.svg",alt:"",onClick:s[9]||(s[9]=e=>X.value=!X.value)}))]),o("div",F,[o("div",N,[R.value?(y(),i("img",{key:0,onClick:q,src:"/static/svg/select02-8907542a.svg",alt:""})):(y(),i("img",{key:1,onClick:q,src:"/static/svg/select01-33d1622f.svg",alt:""})),o("p",null,u(e.$t("setting.rememberme")),1)])]),o("div",{class:"loginBtn",onClick:ae},u(e.$t("setting.login")),1)])]),o("div",O,[v(w,{color:"white"}),o("div",D,[o("img",{src:K.value,alt:""},null,8,E)]),o("div",{class:"text",innerHTML:A.value},null,8,M),o("div",V,u(e.$t("setting.clickToRenew")),1),o("div",j,[o("p",J,u(e.$t("setting.buy")),1),s[13]||(s[13]=o("img",{src:h,alt:""},null,-1))])])])]))}}),[["__scopeId","data-v-6845ce9a"]]);export{W as default};
