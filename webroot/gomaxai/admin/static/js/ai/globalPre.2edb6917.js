
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * Gitee  https://gitee.com/hooray/fantastic-admin
 * Github https://github.com/hooray/fantastic-admin
 */
  
import{a as e}from"../config/config.e980ec46.js";import{d as s,u as a,G as t,r as o,x as r,j as i,o as n,c as l,b as d,f as p,g,h as c,P as u,p as m,k as y,_ as f,q as x}from"../main-5b9099dc.js";const b=e=>(m("data-v-2989d698"),e=e(),y(),e),P={style:{"padding-top":"32px"}},v=b((()=>d("div",{style:{color:"#20295A","font-size":"15px","font-weight":"bold","margin-bottom":"10px"}},"模型系统消息预设",-1))),M=b((()=>d("div",{style:{color:"#20295","font-size":"15px","margin-bottom":"12px"}},"模型全局头部预设",-1))),h={style:{"margin-top":"16px"}},w=s({__name:"globalPre",setup(s){const m=a(),y=t({systemPreMessage:""});async function f(){const s=await e.queryConfig({keys:["systemPreMessage"]});Object.assign(y,s.data)}async function x(){if(0==m.isUserModifyPermissions())return u.error("非超级管理员无权限操作！");var s;null==y.systemPreMessage||""==y.systemPreMessage?u.error("请填写完整信息"):(await e.setConfig({settings:(s=y,Object.keys(s).map((e=>({configKey:e,configVal:s[e]}))))}),u.success("变更配置信息成功"),f())}return o({systemPreMessage:[{required:!0,trigger:"blur",message:"请填写全局预设信息、用于模型预设词"}]}),o(),r((()=>{f()})),(e,s)=>{const a=i("el-alert"),t=i("el-input"),o=i("el-button");return n(),l("div",null,[d("div",null,[p(a,{closable:!1,"show-icon":"",title:"模型全局头部预设说明",description:"当前消息将会被追加到对话模型的全局预设当中、对应用APP无效、对其他所有绘画生效！",type:"warning"})]),d("div",P,[v,d("div",null,[M,d("div",null,[p(t,{style:{width:"500px"},modelValue:y.systemPreMessage,"onUpdate:modelValue":s[0]||(s[0]=e=>y.systemPreMessage=e),type:"textarea",rows:5,placeholder:"请填写模型全局头部预设信息！",clearable:""},null,8,["modelValue"])])])]),d("div",h,[p(o,{bg:"",text:"",type:"primary",size:"large",style:{"font-size":"15px",background:"#EFF6FF",height:"42px",color:"#60A5FA","border-radius":"8px",padding:"8px 100px"},onClick:x},{default:g((()=>[c("保存设置")])),_:1})])])}}});"function"==typeof x&&x(w);const _=f(w,[["__scopeId","data-v-2989d698"]]);export{_ as default};
