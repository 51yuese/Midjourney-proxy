
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * Gitee  https://gitee.com/hooray/fantastic-admin
 * Github https://github.com/hooray/fantastic-admin
 */
  
import{d as a,k as e,a as s,u as o,A as l,r as d,q as t,j as n,o as r,c as i,e as u,I as c,g as m,Y as p,X as f,J as v,f as w,b as g,h,t as _,s as y,_ as b}from"../main-c47e4581.js";import{a as x}from"../index/index.8d1d6cf1.js";import{a as j}from"../access/access.ae69f1ea.js";const k={class:"tools"},A={class:"user-wrapper"},I=a({name:"Tools"}),P=b(a({...I,setup(a){const b=e(),I=s(),P=o();x();const z=l((()=>P.userinfo));d(!1),t((()=>{C.value&&j.getSaasPage({page:1,size:30}).then((a=>{F.value=[{id:0,name:"全部数据"}].concat(a.data.rows)}))}));const C=l((()=>P.isAdmin||P.isSuperAdmin)),F=d([]);function S(a){switch(a){case"modifyPwd":P.updateModifyPasswordDialog(!0);break;case"logout":P.logout().then((()=>{b.push({name:"login"})}))}}return(a,e)=>{const s=n("el-option"),o=n("el-select"),l=n("el-avatar"),d=y,t=n("el-icon"),b=n("el-dropdown-item"),x=n("el-dropdown-menu"),j=n("el-dropdown");return r(),i("div",k,[u(C)?(r(),c(o,{key:0,"model-value":u(I).saasId,placeholder:"选择查看代理商数据",style:{width:"180px"},onChange:u(I).setSaasId},{default:m((()=>[(r(!0),i(p,null,f(u(F),(a=>(r(),c(s,{key:a.id,label:a.name,value:a.id},null,8,["label","value"])))),128))])),_:1},8,["model-value","onChange"])):v("",!0),w(j,{class:"user-container",size:"default",onCommand:S},{dropdown:m((()=>[w(x,{class:"user-dropdown"},{default:m((()=>[w(b,{command:"modifyPwd"},{default:m((()=>e[0]||(e[0]=[g("div",{style:{color:"#3B82F6"}}," 修改密码 ",-1)]))),_:1}),w(b,{divided:"",command:"logout"},{default:m((()=>e[1]||(e[1]=[g("div",{style:{color:"#FF3B30"}}," 退出登录 ",-1)]))),_:1})])),_:1})])),default:m((()=>[g("div",A,[w(l,{size:"small",src:u(z).avatar},null,8,["src"]),h(" "+_(`${u(P).username||"GoMaxAi"} `)+" ",1),w(t,null,{default:m((()=>[w(d,{name:"ep:caret-bottom"})])),_:1})])])),_:1})])}}}),[["__scopeId","data-v-0b50de8b"]]);export{P as default};
