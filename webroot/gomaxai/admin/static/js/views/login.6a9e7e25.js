
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * Gitee  https://gitee.com/hooray/fantastic-admin
 * Github https://github.com/hooray/fantastic-admin
 */
  
import{_ as e}from"../index/index.5576e1b5.js";import{d as a,u as r,r as s,a as l,o,c as t,b as i,t as n,e as g,w as d,v as m,f as u,g as p,h as c,i as b,j as f,k as v,l as x,m as h,_ as w,n as _}from"../main-31e47da4.js";const y={class:"login_box"},F={class:"login_left"},q={style:{"text-align":"left","margin-top":"20%","margin-left":"50%",transform:"translate(-27%)"}},V={class:"greeting"},k={style:{"margin-left":"50%",transform:"translate(-27%)"}},z={class:"flex-bar"},S={style:{"text-align":"left","margin-top":"40px"}},A={class:"copyright"},I={class:"login_right"},P={style:{color:"#FFF","font-size":"40px","margin-top":"20px"}},U=a({name:"Login"}),j=a({...U,setup(a){var w;const _=b(),U=v(),j=r();new URL("/gomaxai/admin/static/png/login-banner-2c1ede93.png",self.location).href;const E="GoMaxAI",L=s("login"),R=s(!1);s((null==(w=_.query.redirect)?void 0:w.toString())??"/"),l();const C=s(),G=s({username:localStorage.login_username||"",password:"",remember:!!localStorage.login_username}),K=s({username:[{required:!0,trigger:"blur",message:"请输入用户名"}],password:[{required:!0,trigger:"blur",message:"请输入密码"},{min:6,max:18,trigger:"blur",message:"密码长度为6到18位"}]});function M(){C.value&&C.value.validate((e=>{e&&(R.value=!0,j.login(G.value).then((()=>{R.value=!1,G.value.remember?localStorage.setItem("login_username",G.value.username):localStorage.removeItem("login_username"),U.push("/")})).catch((()=>{R.value=!1})))}))}s();const $=s({username:"",captcha:"",password:"",checkPassword:""});return s({username:[{required:!0,trigger:"blur",message:"请输入用户名"}],captcha:[{required:!0,trigger:"blur",message:"请输入验证码"}],password:[{required:!0,trigger:"blur",message:"请输入密码"},{min:6,max:18,trigger:"blur",message:"密码长度为6到18位"}],checkPassword:[{required:!0,trigger:"blur",message:"请再次输入密码"},{validator:(e,a,r)=>{a!==$.value.password?r(new Error("两次输入的密码不一致")):r()}}]}),s(),s({username:localStorage.login_username||"",captcha:"",newPassword:""}),s({username:[{required:!0,trigger:"blur",message:"请输入用户名"}],captcha:[{required:!0,trigger:"blur",message:"请输入验证码"}],newPassword:[{required:!0,trigger:"blur",message:"请输入新密码"},{min:6,max:18,trigger:"blur",message:"密码长度为6到18位"}]}),(a,r)=>{const s=f("el-input"),l=f("el-form-item"),b=f("el-checkbox"),v=f("el-button"),w=f("el-form"),_=e;return o(),t("div",y,[i("div",F,[i("div",q,[i("div",V,"欢迎使用 "+n(g(E))+" ! 👋🏻",1),r[3]||(r[3]=i("div",{class:"tips"},"输入您的用户名和密码即可登录！",-1))]),i("div",k,[d(u(w,{ref_key:"loginFormRef",ref:C,model:g(G),rules:g(K),class:"login-form",autocomplete:"on","label-position":"top","hide-required-asterisk":""},{default:p((()=>[i("div",null,[u(l,{prop:"username",label:"用户名"},{default:p((()=>[u(s,{size:"large",modelValue:g(G).username,"onUpdate:modelValue":r[0]||(r[0]=e=>g(G).username=e),placeholder:"请输入用户名",text:"",tabindex:"1",autocomplete:"on"},null,8,["modelValue"])])),_:1}),u(l,{prop:"password",label:"密码"},{default:p((()=>[u(s,{size:"large",modelValue:g(G).password,"onUpdate:modelValue":r[1]||(r[1]=e=>g(G).password=e),type:"password",placeholder:"请输入密码",tabindex:"2",autocomplete:"on","show-password":"",onKeyup:x(M,["enter"])},null,8,["modelValue"])])),_:1})]),i("div",z,[u(b,{modelValue:g(G).remember,"onUpdate:modelValue":r[2]||(r[2]=e=>g(G).remember=e),style:{"font-size":"13px"}},{default:p((()=>r[4]||(r[4]=[c(" 记住我 ")]))),_:1},8,["modelValue"])]),i("div",S,[u(v,{bg:"",text:"",loading:g(R),type:"primary",size:"large",style:{width:"400px","font-size":"15px",background:"#EFF6FF",height:"42px",color:"#60A5FA","border-radius":"16px"},onClick:h(M,["prevent"])},{default:p((()=>r[5]||(r[5]=[c(" 登录 ")]))),_:1},8,["loading"])])])),_:1},8,["model","rules"]),[[m,"login"===g(L)]])]),i("div",A,[u(_)])]),i("div",I,[r[7]||(r[7]=i("div",{style:{"margin-top":"20%"}},[i("img",{src:"/gomaxai/admin/static/png/login_logo-082f52d9.png"})],-1)),i("div",P,[c(n(g(E))+" ",1),r[6]||(r[6]=i("span",{style:{border:"4px solid var(--type-gray-white, #FFF)",padding:"0 6px","border-radius":"16px"}},"Ai",-1))])])])}}});"function"==typeof _&&_(j);const E=w(j,[["__scopeId","data-v-bf5a77a4"]]);export{E as default};
