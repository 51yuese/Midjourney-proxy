
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * Gitee  https://gitee.com/hooray/fantastic-admin
 * Github https://github.com/hooray/fantastic-admin
 */
  
import{a as e}from"../config/config.e980ec46.js";import{d as t,u as a,G as l,r as i,x as r,j as u,o,c as s,b as d,f as n,g as p,h as c,P as f,q as x}from"../main-5b9099dc.js";const b={style:{"margin-top":"38px"}},m=d("div",{style:{color:"#9FA3B8","font-size":"15px","margin-right":"12px"}},"开启此敏感词设置",-1),y={style:{"margin-top":"16px"}},g=t({__name:"baiduSensitive",setup(t){const x=a(),g=l({baiduTextStatus:"",baiduTextApiKey:"",baiduTextSecretKey:""}),K=i({baiduTextStatus:[{required:!0,trigger:"blur",message:"请选择是否启用百度文本审核"}],baiduTextSecretKey:[{required:!0,trigger:"blur",message:"请填写百度文本审核SecretKey"}],baiduTextApiKey:[{required:!0,trigger:"blur",message:"请填写百度文本审核APIKey"}]}),T=i();async function v(){const t=await e.queryConfig({keys:["baiduTextStatus","baiduTextSecretKey","baiduTextApiKey"]});Object.assign(g,t.data)}function S(){var t;null==(t=T.value)||t.validate((async t=>{if(t){if(0==x.isUserModifyPermissions())return f.error("非超级管理员无权限操作！");try{await e.setConfig({settings:(a=g,Object.keys(a).map((e=>({configKey:e,configVal:a[e]}))))}),f.success("变更配置信息成功")}catch(l){}v()}else f.error("请填写完整信息");var a}))}return r((()=>{v()})),(e,t)=>{const a=u("el-alert"),l=u("el-switch"),i=u("el-tooltip"),r=u("el-form-item"),f=u("el-col"),x=u("el-row"),v=u("el-input"),_=u("el-form"),A=u("dvi"),h=u("el-button");return o(),s("div",null,[d("div",b,[n(a,{closable:!1,"show-icon":"",title:"百度文本审核参数说明",description:"接入原因、当前百度云免费5万条，申请文档地址：https://console.bce.baidu.com/ai/#/ai/antiporn/overview/index 、如果百度云敏感词与自定义敏感词都配置的情况、会先检测百度云后检测自定义的敏感词！",type:"warning"})]),n(A,null,{default:p((()=>[n(_,{ref_key:"formRef",ref:T,rules:K.value,model:g,"label-position":"top",style:{"margin-top":"32px"}},{default:p((()=>[n(x,null,{default:p((()=>[n(f,{xs:24,md:20,lg:15,xl:8},{default:p((()=>[n(r,{prop:"baiduTextStatus"},{default:p((()=>[m,n(i,{content:"开启将打开敏感词检测、如果同时开启其他敏感词将会通过菜单顺序仅同时开启一个！",placement:"top","show-after":500},{default:p((()=>[n(l,{modelValue:g.baiduTextStatus,"onUpdate:modelValue":t[0]||(t[0]=e=>g.baiduTextStatus=e),"active-value":"1","inactive-value":"0"},null,8,["modelValue"])])),_:1})])),_:1})])),_:1})])),_:1}),n(x,null,{default:p((()=>[n(f,{xs:24,md:20,lg:15,xl:8},{default:p((()=>[n(r,{label:"文本审核ApiKey",prop:"baiduTextApiKey"},{default:p((()=>[n(v,{size:"large",modelValue:g.baiduTextApiKey,"onUpdate:modelValue":t[1]||(t[1]=e=>g.baiduTextApiKey=e),placeholder:"请填写百度文本审核ApiKey",clearable:""},null,8,["modelValue"])])),_:1})])),_:1})])),_:1}),n(x,null,{default:p((()=>[n(f,{xs:24,md:20,lg:15,xl:8},{default:p((()=>[n(r,{label:"文本审核SecretKey",prop:"baiduTextSecretKey"},{default:p((()=>[n(v,{size:"large",modelValue:g.baiduTextSecretKey,"onUpdate:modelValue":t[2]||(t[2]=e=>g.baiduTextSecretKey=e),placeholder:"请填写百度文本审核SecretKey",clearable:""},null,8,["modelValue"])])),_:1})])),_:1})])),_:1})])),_:1},8,["rules","model"])])),_:1}),d("div",y,[n(h,{bg:"",text:"",type:"primary",size:"large",style:{"font-size":"15px",background:"#EFF6FF",height:"42px",color:"#60A5FA","border-radius":"8px",padding:"8px 100px"},onClick:S},{default:p((()=>[c("保存设置")])),_:1})])])}}});"function"==typeof x&&x(g);export{g as default};
