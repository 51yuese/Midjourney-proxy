
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * Gitee  https://gitee.com/hooray/fantastic-admin
 * Github https://github.com/hooray/fantastic-admin
 */
  
import e from"../components/mjInspireClassify.756224ea.js";import a from"../components/mjDetail.ec923632.js";import{A as t}from"../mj/mj.47c597de.js";import{u as l}from"../utcformatTime/utcformatTime.f6db2c52.js";import{d as s,u as r,r as n,E as o,q as i,j as p,V as u,o as d,c,f as m,b as f,g,h as y,w as v,I as b,t as h,e as j,O as _,_ as w,n as x}from"../main-31e47da4.js";const z={style:{"text-align":"right","margin-bottom":"12px"}},C=s({__name:"inspire-classify",setup(s){const w=r(),x=n(),C=n(),k=n(!1),A=n([]),I=n(0),M=o({page:1,size:20});n();const U=async()=>{try{k.value=!0;const e=await t.queryMjInspireClassify(M),{rows:a,count:l}=e.data;k.value=!1,I.value=l,A.value=a}catch(e){k.value=!1}},F=async()=>{C.value.open()};return i((()=>{U()})),(s,r)=>{const n=p("el-alert"),o=p("el-button"),i=p("el-table-column"),q=p("el-popconfirm"),B=p("el-table"),D=p("el-pagination"),P=p("el-row"),R=u("loading");return d(),c("div",null,[m(e,{ref_key:"mjManagerRef",ref:C,onFresh:U},null,512),m(a,{ref_key:"mjDetailRef",ref:x},null,512),f("div",null,[m(n,{"show-icon":"",title:"广场分类说明",closable:!1,description:"此处的广场分类是为了给广场广场的图片分成各个不同类型！",type:"warning"})]),f("div",z,[f("div",null,[m(o,{style:{"border-radius":"8px",border:"1px solid #3B82F6",color:"#3B82F6","font-size":"15px",height:"32px","margin-top":"25px"},onClick:F},{default:g((()=>r[2]||(r[2]=[y(" 添加分类 ")]))),_:1})])]),v((d(),b(B,{border:"",data:A.value,height:"64vh",width:"100%"},{default:g((()=>[m(i,{prop:"name",label:"分类名称"}),m(i,{prop:"value",label:"分类值"}),m(i,{prop:"createdAt",label:"创建时间"},{default:g((e=>[f("p",null,h(j(l)(e.row.createdAt)),1)])),_:1}),m(i,{prop:"updatedAt",label:"更新时间"},{default:g((e=>[f("p",null,h(j(l)(e.row.updatedAt)),1)])),_:1}),m(i,{fixed:"right",label:"操作",width:"280",align:"center"},{default:g((e=>[m(o,{link:"",type:"primary",size:"small",onClick:a=>(async e=>{C.value.open(e.id)})(e.row)},{default:g((()=>r[3]||(r[3]=[y(" 编辑 ")]))),_:2},1032,["onClick"]),m(q,{width:"300px",title:"删除后不可找回，确定删除?","confirm-button-text":"确认",onConfirm:a=>(async e=>{if(0==w.isUserModifyPermissions())return _.error("非超级管理员无权限操作！");await t.removeMjInspireClassify({id:e.id}),_.success("删除广场分类成功！"),await U()})(e.row)},{reference:g((()=>[m(o,{link:"",type:"danger",size:"small"},{default:g((()=>r[4]||(r[4]=[y(" 删除 ")]))),_:1})])),_:2},1032,["onConfirm"])])),_:1})])),_:1},8,["data"])),[[R,k.value]]),m(P,{class:"flex justify-end mt-5 pb-5"},{default:g((()=>[m(D,{"current-page":M.page,"onUpdate:currentPage":r[0]||(r[0]=e=>M.page=e),"page-size":M.size,"onUpdate:pageSize":r[1]||(r[1]=e=>M.size=e),class:"mr-5","page-sizes":[15,30,50,100],layout:"total, sizes, prev, pager, next, jumper",total:I.value,onSizeChange:U,onCurrentChange:U},null,8,["current-page","page-size","total"])])),_:1})])}}});"function"==typeof x&&x(C);const k=w(C,[["__scopeId","data-v-68196375"]]);export{k as default};
