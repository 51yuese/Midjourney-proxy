
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * Gitee  https://gitee.com/hooray/fantastic-admin
 * Github https://github.com/hooray/fantastic-admin
 */
  
import{a as e}from"../config/config.e980ec46.js";/* empty css                     */import{d as a,u as t,a as s,G as r,C as n,r as o,x as i,j as l,o as p,c,b as g,f as m,g as d,h as u,P as f,p as y,k as x,_ as b,q as h}from"../main-5b9099dc.js";const v={style:{"margin-top":"16px"}},j=(e=>(y("data-v-03353847"),e=e(),x(),e))((()=>g("div",{style:{color:"#20295A","font-size":"15px","margin-top":"24px","margin-bottom":"12px"}}," 用户协议内容 ",-1))),_={style:{"margin-top":"50px"}},k=a({__name:"agreement",setup(a){const y=t(),x=s(),b=r({agreement:""});async function h(){const a=await e.queryConfig({keys:["agreement"]}),{agreement:t}=a.data;Object.assign(b,{agreement:t})}async function k(){if(0==y.isUserModifyPermissions())return f.error("非超级管理员无权限操作！");if(""!=b.agreement){try{await e.setConfig({settings:(a=b,Object.keys(a).map((e=>({configKey:e,configVal:a[e]}))))}),f.success("变更配置信息成功")}catch(t){}var a;h()}else f.error("请填写用户协议内容")}return n((()=>x.settings.app.colorScheme)),o({agreement:[{required:!0,trigger:"blur",message:"请填写用户协议内容"}]}),o(),o("/api/file/upload"),i((()=>{h()})),(e,a)=>{const t=l("el-alert"),s=l("el-input"),r=l("el-button");return p(),c("div",null,[g("div",v,[m(t,{closable:!1,"show-icon":"",title:"用户协议设置说明",description:"这里的用户协议设置是对应用户端的底部用户协议链接、可以使用MD语法或直接使用Html标签进行发布、您也可以直接粘贴上传图片、作为图床使用、其他地方比如上传商品等地方的图片也可以暂时在此作为临时方案。",type:"warning"})]),g("div",null,[j,m(s,{style:{width:"100%",height:"50vh"},type:"textarea",modelValue:b.agreement,"onUpdate:modelValue":a[0]||(a[0]=e=>b.agreement=e),placeholder:"请输入用户协议内容",clearable:""},null,8,["modelValue"])]),g("div",_,[m(r,{bg:"",text:"",type:"primary",size:"large",style:{"font-size":"15px",background:"#EFF6FF",height:"42px",color:"#60A5FA","border-radius":"8px",padding:"8px 100px"},onClick:k},{default:d((()=>[u("保存设置")])),_:1})])])}}});"function"==typeof h&&h(k);const w=b(k,[["__scopeId","data-v-03353847"]]);export{w as default};
