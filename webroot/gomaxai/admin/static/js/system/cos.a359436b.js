
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * Gitee  https://gitee.com/hooray/fantastic-admin
 * Github https://github.com/hooray/fantastic-admin
 */
  
import{_ as e}from"../index/index.7b018e8d.js";import{a as l}from"../config/config.e980ec46.js";import{d as a,G as o,r as t,x as s,j as c,o as r,c as u,f as d,g as n,b as i,h as f,P as m,q as g}from"../main-5b9099dc.js";const p={class:"flex justify-between"},b=i("b",null,"COS参数设置",-1),y=a({__name:"cos",setup(a){const g=o({cosSecretId:"",cosSecretKey:"",cosBucket:"",cosRegion:""}),y=t({cosSecretKey:[{required:!0,trigger:"blur",message:"请填写SecretKey"}],cosBucket:[{required:!0,trigger:"blur",message:"请填写存储桶名称"}],cosRegion:[{required:!0,trigger:"blur",message:"请填写存储桶所属地域"}],cosSecretId:[{required:!0,trigger:"blur",message:"请填写SecretId"}]}),S=t();async function _(){const e=await l.queryConfig({keys:["cosSecretKey","cosBucket","cosRegion","cosSecretId"]});Object.assign(g,e.data)}function x(){var e;null==(e=S.value)||e.validate((async e=>{if(e){try{await l.setConfig({settings:(a=g,Object.keys(a).map((e=>({configKey:e,configVal:a[e]}))))}),m.success("变更配置信息成功")}catch(o){}_()}else m.error("请填写完整信息");var a}))}return s((()=>{_()})),(l,a)=>{const o=c("el-alert"),t=e,s=c("el-button"),m=c("el-input"),_=c("el-form-item"),V=c("el-col"),h=c("el-row"),k=c("el-form"),I=c("el-card");return r(),u("div",null,[d(t,null,{default:n((()=>[d(o,{closable:!1,"show-icon":"",title:"COS参数说明",description:"当前默认使用腾讯云COS对象存储、如果您有特殊的对接通道、将为您开放API对接！！",type:"success"})])),_:1}),d(I,{style:{margin:"20px"}},{header:n((()=>[i("div",p,[b,d(s,{class:"button",onClick:x},{default:n((()=>[f(" 保存设置 ")])),_:1})])])),default:n((()=>[d(k,{ref_key:"formRef",ref:S,rules:y.value,model:g,"label-width":"120px"},{default:n((()=>[d(h,null,{default:n((()=>[d(V,{xs:24,md:20,lg:15,xl:12},{default:n((()=>[d(_,{label:"SecretId",prop:"cosSecretId"},{default:n((()=>[d(m,{modelValue:g.cosSecretId,"onUpdate:modelValue":a[0]||(a[0]=e=>g.cosSecretId=e),placeholder:"请填写SecretId",clearable:""},null,8,["modelValue"])])),_:1})])),_:1})])),_:1}),d(h,null,{default:n((()=>[d(V,{xs:24,md:20,lg:15,xl:12},{default:n((()=>[d(_,{label:"SecretKey",prop:"cosSecretKey"},{default:n((()=>[d(m,{modelValue:g.cosSecretKey,"onUpdate:modelValue":a[1]||(a[1]=e=>g.cosSecretKey=e),placeholder:"请填写SecretKey",clearable:""},null,8,["modelValue"])])),_:1})])),_:1})])),_:1}),d(h,null,{default:n((()=>[d(V,{xs:24,md:20,lg:15,xl:12},{default:n((()=>[d(_,{label:"存储桶名称",prop:"cosBucket"},{default:n((()=>[d(m,{modelValue:g.cosBucket,"onUpdate:modelValue":a[2]||(a[2]=e=>g.cosBucket=e),placeholder:"请填写存储桶名称",clearable:""},null,8,["modelValue"])])),_:1})])),_:1})])),_:1}),d(h,null,{default:n((()=>[d(V,{xs:24,md:20,lg:15,xl:12},{default:n((()=>[d(_,{label:"所属地域",prop:"cosRegion"},{default:n((()=>[d(m,{modelValue:g.cosRegion,"onUpdate:modelValue":a[3]||(a[3]=e=>g.cosRegion=e),placeholder:"请填写所属地域(ap-guangzhou)",clearable:""},null,8,["modelValue"])])),_:1})])),_:1})])),_:1})])),_:1},8,["rules","model"])])),_:1})])}}});"function"==typeof g&&g(y);export{y as default};
