
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * Gitee  https://gitee.com/hooray/fantastic-admin
 * Github https://github.com/hooray/fantastic-admin
 */
  
import{a as e}from"../config/config.e980ec46.js";import{d as a,u as l,G as i,r,x as t,j as n,o as s,c as o,b as d,f as u,g as p,h as c,P as f,q as y}from"../main-5b9099dc.js";const b={style:{"margin-top":"24px"}},m={style:{"margin-top":"16px"}},g=a({__name:"baidufanyi",setup(a){const y=l(),g=i({baiduFanyiAppId:"",baiduFanyiSecret:""}),F=r({baiduFanyiSecret:[{required:!0,trigger:"blur",message:"请填写应用ID"}],baiduFanyiAppId:[{required:!0,trigger:"blur",message:"请填写基础ID"}]}),x=r();async function _(){const a=await e.queryConfig({keys:["baiduFanyiSecret","baiduFanyiAppId"]});Object.assign(g,a.data)}function A(){var a;null==(a=x.value)||a.validate((async a=>{if(a){if(0==y.isUserModifyPermissions())return f.error("非超级管理员无权限操作！");try{await e.setConfig({settings:(l=g,Object.keys(l).map((e=>({configKey:e,configVal:l[e]}))))}),f.success("变更配置信息成功")}catch(i){}_()}else f.error("请填写完整信息");var l}))}return t((()=>{_()})),(e,a)=>{const l=n("el-alert"),i=n("el-input"),r=n("el-form-item"),t=n("el-col"),f=n("el-row"),y=n("el-form"),_=n("el-button");return s(),o("div",null,[d("div",null,[u(l,{closable:!1,"show-icon":"",title:"百度翻译参数说明",description:"当前百度翻译用于绘画栏目的自动翻译功能、如您需要、具体申请配置文档地址 https://api.fanyi.baidu.com/ 请开通通用文本翻译！",type:"warning"})]),d("div",b,[u(y,{ref_key:"formRef",ref:x,rules:F.value,model:g,"label-position":"top"},{default:p((()=>[u(f,null,{default:p((()=>[u(t,{xs:24,md:20,lg:15,xl:8},{default:p((()=>[u(r,{label:"百度翻译APPID",prop:"baiduFanyiAppId"},{default:p((()=>[u(i,{size:"large",modelValue:g.baiduFanyiAppId,"onUpdate:modelValue":a[0]||(a[0]=e=>g.baiduFanyiAppId=e),placeholder:"请填写百度翻译APPID",clearable:""},null,8,["modelValue"])])),_:1})])),_:1})])),_:1}),u(f,null,{default:p((()=>[u(t,{xs:24,md:20,lg:15,xl:8},{default:p((()=>[u(r,{label:"百度翻译秘钥",prop:"baiduFanyiSecret"},{default:p((()=>[u(i,{size:"large",modelValue:g.baiduFanyiSecret,"onUpdate:modelValue":a[1]||(a[1]=e=>g.baiduFanyiSecret=e),placeholder:"请填写百度翻译秘钥",clearable:""},null,8,["modelValue"])])),_:1})])),_:1})])),_:1})])),_:1},8,["rules","model"]),d("div",m,[u(_,{bg:"",text:"",type:"primary",size:"large",style:{"font-size":"15px",background:"#EFF6FF",height:"42px",color:"#60A5FA","border-radius":"8px",padding:"8px 100px"},onClick:A},{default:p((()=>[c("保存设置")])),_:1})])])])}}});"function"==typeof y&&y(g);export{g as default};
